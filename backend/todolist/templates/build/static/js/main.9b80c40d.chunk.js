(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(t,e,s){t.exports=s(20)},19:function(t,e,s){},20:function(t,e,s){"use strict";s.r(e);var a=s(0),i=s.n(a),o=s(12),n=s.n(o),r=(s(19),s(6)),l=s(1),c=s(2),p=s(4),u=s(3),d=s(5),h=s(13),g=s(10),f=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).xstyle={fontSize:"90%",color:"black"},a.tab=i.a.createRef(),a}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(t){t.size==this.props.size&&t.tabPosMod==this.props.tabPosMod||this.props.passRect(this.tab.current.getBoundingClientRect().right)}},{key:"componentDidMount",value:function(){this.props.passRect(this.tab.current.getBoundingClientRect().right)}},{key:"render",value:function(){var t=this,e={cursor:"pointer",display:"inline-block",backgroundColor:this.props.colourCode,color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"};if(this.props.activeView!=this.props.className&&(e.filter="brightness(95%)"),this.props.className.length>7)var s=this.props.className.slice(0,5)+"...";else s=this.props.className;return i.a.createElement("div",{ref:this.tab,key:this.props.className+"tab",className:this.props.className,style:e,onClick:function(e){return t.props.changeView(e.target.className,e.target.style.backgroundColor)}},i.a.createElement("span",{style:this.xstyle,onClick:this.props.closeNavTab},"x"),s)}}]),s}(a.Component),m=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).styling={cursor:"pointer",display:"inline-block",backgroundColor:"#079d41",transitionDuration:"0.5s",color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"},a.tab=i.a.createRef(),a}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(t){t.tabPosMod!=this.props.tabPosMod&&this.props.passRect(this.tab.current.getBoundingClientRect().left,"list")}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{ref:this.tab,className:"Lists",style:this.styling,onMouseOver:this.hover,onMouseLeave:this.hoverLeave,onClick:function(e){return t.props.changeView(e.target.className,e.target.style.backgroundColor)}},"Lists")}}]),s}(a.Component),b=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).passRect=function(t,e){"list"==e?a.setState({listTabPos:t}):a.setState({lastTabPos:t})},a.lastTabClick=function(t){t.stopPropagation(),a.state.lastTabPos>a.state.windowW&&a.setState({tabPosMod:a.state.tabPosMod-50})},a.listTabClick=function(t){t.stopPropagation(),a.setState({tabPosMod:a.state.tabPosMod+50})},a.barStyle={userSelect:"none",paddingTop:"5px",backgroundColor:"#373737",width:"100%",whiteSpace:"nowrap"},a.scrollStyle={position:"absolute",zIndex:"1",marginTop:"-5px",textAlign:"center",height:"36px",width:"20px",lineHeight:"36px",color:"white",backgroundColor:"black"},a.state={views:[],lastTabPos:0,listTabPos:0,tabPosMod:0,windowW:window.innerWidth},a.handleResize=a.handleResize.bind(Object(g.a)(a)),a}return Object(c.a)(s,[{key:"handleResize",value:function(t,e){this.setState({windowW:window.innerWidth})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",null)}},{key:"componentWillUpdate",value:function(t){var e=Object.keys(t.views).length,s=Object.keys(this.props.views).length,a=Object(h.a)(this.state.views);if(e>s){for(var i in t.views)this.state.views.includes(i)||a.push(i);this.setState({views:a})}else if(e<s){var o,n=Object(r.a)(a);try{for(n.s();!(o=n.n()).done;){var l=o.value;Object.keys(t.views).includes(l)||a.splice(a.indexOf(l),1)}}catch(c){n.e(c)}finally{n.f()}this.setState({views:a})}}},{key:"render",value:function(){var t,e,s=Object.assign({left:this.state.tabPosMod},this.barStyle);if(this.state.lastTabPos>this.state.windowW){var a=Object.assign({right:0},Object(d.a)({},this.scrollStyle));e=i.a.createElement("span",{style:a,onClick:this.lastTabClick},"\u25b6")}if(this.state.listTabPos<0){var o=Object.assign({left:0},Object(d.a)({},this.scrollStyle));t=i.a.createElement("span",{style:o,onClick:this.listTabClick},"\u25c0")}var n,l=[],c=0,p=this.state.views.length,u=function(){},h=Object(r.a)(this.state.views);try{for(h.s();!(n=h.n()).done;){var g=n.value;c==p-1&&(u=this.passRect),this.props.views[g]&&l.push(i.a.createElement(f,{closeNavTab:this.props.closeNavTab,size:p,tabPosMod:this.state.tabPosMod,className:g,passRect:u,colourCode:this.props.views[g].colourCode,changeView:this.props.changeView,activeView:this.props.activeView})),c++}}catch(b){h.e(b)}finally{h.f()}return i.a.createElement("header",{style:s},t,i.a.createElement("span",{style:{marginLeft:this.state.tabPosMod}},i.a.createElement(m,{changeColour:this.props.changeColour,changeView:this.props.changeView,tabPosMod:this.state.tabPosMod,passRect:u}),l),e)}}]),s}(a.Component),v=s(7),y=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).styling={color:"white",backgroundColor:"black",display:"inline-block",width:"20px",height:"20px",cursor:"pointer"},a}return Object(c.a)(s,[{key:"render",value:function(){return i.a.createElement("div",{onMouseOver:this.props.buttonFunctions.onMouseOver,onMouseLeave:this.props.buttonFunctions.onMouseLeave,onMouseDown:this.props.buttonFunctions.onMouseDown,onClick:this.props.onClick,style:this.styling},this.props.symbol)}}]),s}(a.Component),k=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){return Object(l.a)(this,s),e.call(this,t)}return Object(c.a)(s,[{key:"render",value:function(){var t=this;return i.a.createElement("span",{onMouseOver:function(t){t.target.style.backgroundColor="rgba(250,250,250,1)"},onMouseLeave:function(t){t.target.style.backgroundColor="rgba(240,240,240,1)"},onMouseDown:this.props.preventPropogation,onMouseUp:this.props.mouseUpFix,onClick:function(e){return t.props.select(e,t.props.priority)},style:{display:"inline-block",userSelect:"none",color:"black",lineHeight:"9px",position:this.props.position,top:this.props.top,transform:"translateY(-50%)",height:"10px",width:"10px",left:this.props.left,border:"1px solid rgba(200,200,200,1)",backgroundColor:"rgba(240,240,240,1)"}},this.props.check)}}]),s}(a.Component),S=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).changeTaskColour=function(t){a.setState({taskColour:t.target.value})},a.preventPropogation=function(t){t.stopPropagation()},a.hover=function(t){a.props.dragging||(t.target.style.textShadow="0px 0px 8px cyan")},a.hoverEnd=function(t){t.target.style.textShadow="none"},a.optionsClick=function(t){"none"==a.state.optionsVisibility?a.setState({optionsVisibility:"inline-block"}):a.setState({optionsVisibility:"none"})},a.descriptionClick=function(t){console.log("description")},a.buttonFunctions={onMouseOver:a.hover,onMouseLeave:a.hoverEnd,onMouseDown:a.preventPropogation},a.defaultStyle={userSelect:"none",width:"250px",height:"50px",textAlign:"center"},a.textStyle={position:"absolute",left:"30px",width:"200px",fontSize:"90%"},a.textSpan=i.a.createRef(),a.state={taskColour:a.props.colour,lineHeight:"50px",wordBreak:""},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.textSpan.current.scrollWidth>200&&this.setState({lineHeight:"25px",wordBreak:"break-all"})}},{key:"render",value:function(){var t=this,e=Object.assign({lineHeight:this.state.lineHeight,wordBreak:this.state.wordBreak},Object(d.a)({},this.textStyle));this.state.wordBreak||(e.whiteSpace="nowrap");var s=this.props.completed?i.a.createElement("s",null,this.props.name):this.props.name,a=this.props.selected?"\u2714":"";if(this.props.dragging&&this.props.dragging.name==this.props.name)var o=Object.assign({pointerEvents:"none",zIndex:1,position:"fixed",top:this.props.mouse.y-25+"px",left:this.props.mouse.x-125+"px",backgroundColor:this.props.colour},this.defaultStyle),n=i.a.createElement("div",{style:{position:"relative",marginTop:"20px",marginLeft:this.props.marginLeft,width:"250px",height:"50px",transform:this.props.size}});else o=Object.assign({marginLeft:this.props.marginLeft,position:"relative",marginTop:"20px",backgroundColor:this.props.colour},this.defaultStyle),n=null;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:o,onClick:function(t){return t.stopPropagation()},onMouseUp:this.props.mouseUpFix,onMouseOver:function(e){return t.props.dragOver(e,t.props.priority)},onMouseDown:function(e){return t.props.dragStart(e,t.props.priority,t.props.name)}},i.a.createElement(k,{position:"absolute",top:"50%",left:"15px",priority:this.props.priority,preventPropogation:this.preventPropogation,select:this.props.selectTask,check:a}),i.a.createElement("span",{style:{position:"absolute",top:"30px",left:"230px",float:"right"}},i.a.createElement(y,{buttonFunctions:this.buttonFunctions,mouseUpFix:this.props.mouseUpFix,onClick:function(e){return t.props.openDescription(e,t.props.priority)},symbol:"?"})),i.a.createElement("div",{ref:this.textSpan,style:e},s)),n)}}]),s}(a.Component),O=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).customColourHandle=function(t){a.setState({customColour:t.target.value})},a.colourForm=function(){if("colour.png"==a.props.img){if("inline"!=a.state.customColourForm&&a.props.colourUI){if("none"==a.state.customColourForm)t="inline"}else var t="none";a.setState({customColourForm:t})}},a.createColour=function(t,e,s){return e=Object.assign({backgroundColor:t},e),i.a.createElement("span",{style:e,onClick:s})},a.ifDisabled=function(t){return a.props.disabled||(t.opacity="0.5",t.pointerEvents="none"),a.props.l&&(t.marginLeft=a.props.l),t},a.changeTab=function(){a.setState({paletteTab:!a.state.paletteTab})},a.buttonStyle={userSelect:"none",display:"block",cursor:"pointer",marginRight:"10px",marginLeft:"10px",marginBottom:"10px"},a.colourStyle={userSelect:"none",color:"rgba(0,0,0,0.5)",display:"inline-block",margin:"1px",width:"20px",height:"20px",cursor:"pointer",borderRadius:"10px",border:"solid 1px rgba(0,0,0,0.3)",verticalAlign:"middle"},a.paletteStyle={textAlign:"center",float:"right",position:"absolute",marginTop:"-18px",marginLeft:"52px",width:"100px",backgroundColor:"rgba(255,255,255,0.2)",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",padding:"1px"},a.renameStyle={backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderBottom:"solid 2px",width:"100px",position:"absolute",top:"10px",left:"50px"},a.renameButton={position:"absolute",left:"150px",top:"7px"},a.renameContainer={float:"right",marginTop:"-38px",marginLeft:"52px"},a.paletteTabs={userSelect:"none",lineHeight:"20px",textAlign:"center",fontSize:"80%",width:"51px",height:"20px",backgroundColor:"rgba(255,255,255,0.2)",position:"absolute",top:"-20px"},a.chooseColour=i.a.createRef(),a.state={value:"",paletteTab:!0,customColour:"none"},a}return Object(c.a)(s,[{key:"render",value:function(){var t=this;if(this.props.img)var e=this.ifDisabled(Object(d.a)({},this.buttonStyle)),s=i.a.createElement("img",{src:this.props.img,onClick:function(e){t.props.func(e),t.colourForm()},style:e,width:"40",height:"35"});else{var a=this.ifDisabled(Object.assign({lineHeight:"35px",fontSize:"300%",height:"35px",width:"40px"},Object(d.a)({},this.buttonStyle)));s=i.a.createElement("div",{style:a,onClick:this.props.func},this.props.symbol)}var o=Object(d.a)({},this.paletteStyle);if(this.props.renameUI&&this.props.disabled)var n=i.a.createElement("span",{style:this.renameContainer},i.a.createElement("input",{style:this.renameStyle,maxLength:40,onChange:function(e){return t.setState({value:e.target.value})},autoFocus:"true"}),i.a.createElement("button",{style:this.renameButton,onClick:function(e){return t.props.func(e,t.state.value)}},"rename"));else if(this.props.colourUI){var l=Object.assign({left:0,borderTopLeftRadius:"10px"},Object(d.a)({},this.paletteTabs)),c=Object.assign({right:0,borderTopRightRadius:"10px"},Object(d.a)({},this.paletteTabs));if(!this.props.listView&&this.state.paletteTab){c.filter="brightness(70%)",c.cursor="pointer";var p=["#333399","purple","#00d6bd","#a90a0a","#079d41","#df7334","#a9993c","pink"],u=this.changeTab,h=this.props.update}else if(this.props.listView||this.state.paletteTab){if(this.props.listView){(o=Object.assign({borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},o)).marginTop="-38px";p=["#333399","purple","#00d6bd","#a90a0a","#40cc3e","#df7334","#a9993c","pink"],h=function(e){return t.props.update(e)}}}else{l.filter="brightness(70%)",l.cursor="pointer";var p=["#333399","purple","#00d6bd","#a90a0a","#40cc3e","#df7334","#a9993c","pink"],g=this.changeTab,h=function(e){return t.props.updateList(e,t.props.listId)}}var f,m=this.props.listView?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{style:l,onClick:g},"Tasks"),i.a.createElement("span",{style:c,onClick:u},"View")),b=[],v=Object(r.a)(p);try{for(v.s();!(f=v.n()).done;){var y=f.value;b.push(this.createColour(y,this.colourStyle,h))}}catch(k){v.e(k)}finally{v.f()}n=i.a.createElement("span",{style:o},i.a.createElement("span",null,m),i.a.createElement("span",{style:{width:"100px"}},b))}else if(this.props.descriptionUI)n=i.a.createElement("button",{onClick:this.props.save,style:{position:"absolute",top:"60px",right:"40px"}},"save");else n=null;return i.a.createElement("div",{style:this.props.style,onMouseUp:this.props.mouseUpFix,onClick:function(t){return t.stopPropagation()}},s,n)}}]),s}(a.Component),x=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).taskComplete=function(){var t=JSON.parse(JSON.stringify(a.state.tasks)),e=[];for(var s in t)t[s].selected&&(e.push({id:t[s].id,completed:!t[s].completed}),t[s].compelted=!t[s].completed);a.props.update(e,(function(){!function(t){a.setState({tasks:t})}(t)}),"tasks/"+a.props.listId)},a.taskColour=function(t){var e=JSON.parse(JSON.stringify(a.state.tasks)),s=t.target.style.backgroundColor,i=[];for(var o in e)e[o].selected&&(i.push({id:e[o].id,colour:s}),e[o].colour=s);a.props.update(i,(function(){!function(t){a.setState({tasks:t})}(e)}),"tasks/"+a.props.listId)},a.taskRename=function(t,e){if(e){var s=JSON.parse(JSON.stringify(a.state.tasks)),i=[];for(var o in s)s[o].selected&&(i.push({id:s[o].id,taskName:e}),s[o].name=e);a.props.update(i,(function(){!function(t){a.setState({tasks:t})}(s)}),"tasks/"+a.props.listId)}else{var n=JSON.parse(JSON.stringify(a.state.buttonUI)),r=JSON.parse(JSON.stringify(a.state.description));n.rename=!n.rename,r.showing=!1,a.setState({buttonUI:n,description:r})}},a.inputHandle=function(t){a.setState({input:t.target.value})},a.selectTaskCheck=function(t,e,s){if(s>1)var i=!0;if(s>=1)var o=!0,n=!0;var r=!i&&a.state.buttonUI.rename,l=!0;for(var c in t)if(t[c].selected)if(l){var p=t[c].completed;l=!1}else if(t[c].completed!=p){n=!1;break}return 0==s&&(r=n=o=!1),{tasks:t,count:s,buttonUI:{rename:r,colour:a.state.buttonUI.colour,check:n,delete:o,description:a.state.buttonUI.description}}},a.selectTask=function(t,e){t.stopPropagation();var s=JSON.parse(JSON.stringify(a.state.tasks)),i=JSON.parse(JSON.stringify(a.state.buttonUI));if(s[e].selected)var o=a.state.checkBox-1;else o=a.state.checkBox+1;s[e].selected=!s[e].selected;var n=a.selectTaskCheck(s,i,o);a.setState({tasks:n.tasks,checkBox:n.count,buttonUI:n.buttonUI})},a.setMouse=function(t){a.props.activeView==a.props.className&&a.state.dragging&&a.setState({mouse:{x:t.clientX,y:t.clientY}},(function(){if(a.state.draggedOver){var t=a.state.draggedOver.priority,e=a.state.dragging.priority,s=JSON.parse(JSON.stringify(a.state.tasks));if(a.state.mouse.y<a.state.draggedOver.pos&&e>t){delete s[e],s[t]=a.state.tasks[e];for(var i=parseInt(t)+1;i<=e;i++)s[i]=a.state.tasks[i-1];a.setState({tasks:s,dragging:{priority:t,name:a.state.dragging.name},priorityUpdateInfo:{draggedFrom:a.state.priorityUpdateInfo.draggedFrom,draggedTo:t}})}else if(a.state.mouse.y>a.state.draggedOver.pos&&e<t){delete s[e],s[t]=a.state.tasks[e];for(var o=t-1;o>=e;o--)s[o]=a.state.tasks[o+1];a.setState({tasks:s,dragging:{priority:t,name:a.state.dragging.name},priorityUpdateInfo:{draggedFrom:a.state.priorityUpdateInfo.draggedFrom,draggedTo:t}})}}}))},a.dragStart=function(t,e,s){a.setState({dragging:{priority:e,name:s},mouse:{x:t.clientX,y:t.clientY},priorityUpdateInfo:{draggedFrom:e,draggedTo:e}})},a.mouseUpFix=function(t){t.stopPropagation(),a.state.dragging&&a.setState({dragging:null,draggedOver:null,mouse:0})},a.taskOrderUpdate=function(){var t=JSON.parse(JSON.stringify(a.state.priorityUpdateInfo)),e=JSON.parse(JSON.stringify(a.state.tasks));if(t.draggedFrom!=t.draggedTo){for(var s=Math.max(t.draggedFrom,t.draggedTo),i=[],o=Math.min(t.draggedFrom,t.draggedTo);o<=s;o++)i.push({id:e[o].id,priority:o});a.props.update({updates:i},(function(){return null}),"tasks/"+a.props.listId)}},a.drop=function(t){a.state.dragging?(a.taskOrderUpdate(),a.setState({dragging:null,draggedOver:null,mouse:0,priorityUpdateInfo:{draggedFrom:0,draggedTo:0}})):a.closeOptions()},a.dragOver=function(t,e){if(a.state.dragging){var s=t.target.getBoundingClientRect(),i=s.bottom-s.height/2;a.setState({draggedOver:{priority:e,pos:i}})}},a.fixPriority=function(t){var e=0,s={},a=[];for(var i in t)i!=e&&(t[e]=t[i],delete t[i],a.push(t[e].id),s[t[e].id]=e),e++;return{tasks:t,idArr:a,priority:s}},a.taskDelete=function(){var t=[],e=[],s=JSON.parse(JSON.stringify(a.state.tasks)),i=JSON.parse(JSON.stringify(a.state.description));for(var o in s)s[o].selected&&(t.push(s[o].id),e.push(o));for(var n=JSON.parse(JSON.stringify(a.state.buttonUI)),r=a.state.checkBox-e.length,l=0,c=e;l<c.length;l++){var p=c[l];p==a.state.description.task.priority&&(i={showing:!1,task:1,content:"description",modified:!1}),delete s[p]}var u=a.fixPriority(s);s=u.tasks;var d=a.selectTaskCheck(s,n,r),h=[];for(var g in u.priority)h.push({id:g,priority:h[g]});var f=new XMLHttpRequest;f.open("DELETE","http://localhost:8000/api/tasks/"+a.props.listId+"/"),f.setRequestHeader("content-type","application/json"),f.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),f.onload=function(){204==f.status&&a.setState({tasks:d.tasks,checkBox:d.count,buttonUI:d.buttonUI,description:i})},f.send(JSON.stringify({delete:t,update:h}))},a.taskCreate=function(){for(var t=0,e=Object.values(a.state.tasks);t<e.length;t++){if(e[t].name==a.state.input)return}var s=new XMLHttpRequest;s.open("POST","http://localhost:8000/api/tasks/"+a.props.listId+"/"),s.setRequestHeader("content-type","application/json"),s.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),s.onload=function(){if(201==s.status){var t=JSON.parse(s.response);a.setState({tasks:Object(d.a)(Object(d.a)({},a.state.tasks),{},Object(v.a)({},t.priority,{id:t.id,colour:t.colour,description:"",selected:!1,name:t.taskName})),input:""})}};var i=0;a.state.tasks[0]&&(i=parseInt(Object.keys(a.state.tasks).slice(-1)[0])+1),s.send(JSON.stringify({listId:a.props.listId,taskName:a.state.input,priority:i}))},a.colourPalette=function(){var t=JSON.parse(JSON.stringify(a.state.buttonUI)),e=JSON.parse(JSON.stringify(a.state.description));e.showing=!1,t.colour.palette=!t.colour.palette,a.setState({buttonUI:t,description:e})},a.openDescription=function(t,e){if(a.state.description.showing&&e==a.state.description.task.priority)a.closeDescription();else{var s=JSON.parse(JSON.stringify(a.state.tasks[e])),i=JSON.parse(JSON.stringify(a.state.buttonUI));i.description=!0,i.rename=!1,i.colour.palette=!1,s.priority=e;var o={showing:!0,task:s,content:s.description,modified:!1};a.setState({buttonUI:i,description:o})}},a.closeDescription=function(){var t=JSON.parse(JSON.stringify(a.state.description)),e=JSON.parse(JSON.stringify(a.state.buttonUI));e.description=!0,t.showing=!1,t.modified=!1,t.content=t.task.description,a.setState({buttonUI:e,description:t})},a.editDescription=function(t){a.textArea.current.focus();var e=JSON.parse(JSON.stringify(a.state.buttonUI));e.description=!e.description,a.setState({buttonUI:e})},a.saveNewDescription=function(t){var e=JSON.parse(JSON.stringify(a.state.description)),s=JSON.parse(JSON.stringify(a.state.buttonUI)),i=JSON.parse(JSON.stringify(a.state.tasks)),o=[{id:e.task.id,description:e.content}];e.modified=!1,s.description=!s.description,i[e.task.priority].description=e.content;a.props.update({update:o},(function(){!function(t,e,s){a.setState({tasks:t,buttonUI:e,description:s})}(i,s,e)}),"tasks/"+a.props.listId)},a.changeDescription=function(t){var e=JSON.parse(JSON.stringify(a.state.description));e.content=t.target.value,e.modified=!0,a.setState({description:e})},a.closeOptions=function(t){var e=JSON.parse(JSON.stringify(a.state.buttonUI)),s=JSON.parse(JSON.stringify(a.state.description));e.rename=!1,e.colour.palette=!1,s.showing=!1,a.setState({buttonUI:e,description:s})},a.inputStyle={width:"235px",fontSize:"14px",maxWidth:"235px",maxHeight:"32px"},a.buttonsStyle={marginLeft:"255px",position:"absolute",marginTop:"10px"},a.ghostDiv={position:"relative",height:"34px",pointerEvents:"none",marginBottom:"10px"},a.descriptionContainer={position:"absolute",left:"400px",top:"140px",height:"100%"},a.descriptionStyle={position:"sticky",top:0,left:0,maxWidth:"300px",backgroundColor:"rgba(255,255,255,0.5)",overflow:"hidden"},a.textAreaStyle={color:"rgba(0,0,0,1)",display:"block",border:"none",backgroundColor:"rgba(0,0,0,0)",resize:"none"},a.closeDescriptionStyle={marginTop:"-2px",marginRight:"3px",float:"right",cursor:"pointer",opacity:.3},a.textArea=i.a.createRef(),a.state={tasks:{},tasksLoaded:!1,dragging:null,draggedOver:null,mouse:0,input:"",checkBox:0,buttonUI:{rename:!1,colour:{palette:!1,button:!1},check:!1,delete:!1,description:!0},description:{showing:!1,task:1,content:"description",modified:!1},priorityUpdateInfo:{draggedFrom:0,draggedTo:0}},a}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(){var t=this;if(this.props.activeView==this.props.className&&!this.state.tasksLoaded){var e=new XMLHttpRequest;e.open("GET","http://localhost:8000/api/tasks/"+this.props.listId),e.setRequestHeader("content-type","application/json"),e.responseType="json",e.onload=function(){if(200==e.status){var s={};e.response.map((function(t){s[t.priority]={id:t.id,colour:t.colour,description:t.description,selected:!1,name:t.taskName,completed:t.completed}})),t.setState({tasks:s,tasksLoaded:!0})}},e.send()}}},{key:"render",value:function(){var t=!0;1!=this.state.checkBox&&(t=!1);var e={margin:"50px",width:"90%",height:"90%"},s="none";this.props.activeView!=this.props.className?e.display="none":s=this.props.reference;var a="none";if(this.state.description.showing&&(a="block"),this.state.description.task.priority)var o={backgroundColor:this.state.description.task.colour};var n=this.state.description.modified?i.a.createElement("span",{style:{color:"red"}},"(modified)"):null,r=Object.assign({display:a},Object(d.a)({},this.descriptionStyle)),l=[];for(var c in this.state.tasks)l.push(i.a.createElement("div",{key:this.state.tasks[c].name},i.a.createElement(S,{mouseUpFix:this.mouseUpFix,openDescription:this.openDescription,completed:this.state.tasks[c].completed,colour:this.state.tasks[c].colour,selected:this.state.tasks[c].selected,selectTask:this.selectTask,listId:this.props.listId,dragOver:this.dragOver,dragging:this.state.dragging,mouse:this.state.mouse,dragStart:this.dragStart,name:this.state.tasks[c].name,id:this.state.tasks[c].id,priority:c})));return i.a.createElement("div",{style:e,ref:s,onMouseMove:this.setMouse,onClick:function(t){return t.stopPropagation()},onMouseUp:this.drop,className:this.props.className},i.a.createElement("span",{style:{position:"absolute"}},i.a.createElement("input",{key:"taskCreationInput",maxLength:40,style:this.inputStyle,onChange:this.inputHandle,value:this.state.input}),i.a.createElement("button",{onClick:this.taskCreate},"create")),i.a.createElement("div",{style:this.ghostDiv}),i.a.createElement("span",{style:this.buttonsStyle},i.a.createElement(O,{symbol:"\u270d",disabled:t,func:this.taskRename,mouseUpFix:this.mouseUpFix,renameUI:this.state.buttonUI.rename}),i.a.createElement(O,{img:"/static/colour.png",checkBox:this.state.checkBox,editViewColour:this.props.editViewColour,className:this.props.className,func:this.colourPalette,mouseUpFix:this.mouseUpFix,update:this.taskColour,updateList:this.props.updateList,listId:this.props.listId,disabled:!0,colourUI:this.state.buttonUI.colour.palette}),i.a.createElement(O,{symbol:"\u2714",func:this.taskComplete,mouseUpFix:this.mouseUpFix,disabled:this.state.buttonUI.check}),i.a.createElement(O,{img:"/static/delete.png",l:"7px",func:this.taskDelete,mouseUpFix:this.mouseUpFix,disabled:this.state.buttonUI.delete})," "),l,i.a.createElement("span",{style:this.descriptionContainer},i.a.createElement("div",{style:r,onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()}},i.a.createElement("span",{style:o},this.state.description.task.name,i.a.createElement("span",{style:this.closeDescriptionStyle,onClick:this.closeDescription},"x")),n,i.a.createElement("textarea",{value:this.state.description.content,maxLength:250,ref:this.textArea,style:this.textAreaStyle,readOnly:this.state.buttonUI.description,onChange:this.changeDescription}),i.a.createElement(O,{symbol:"\u270d",func:this.editDescription,save:this.saveNewDescription,style:{float:"right",margin:"-10px"},disabled:"true",descriptionUI:!this.state.buttonUI.description}))))}}]),s}(a.Component),w=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).styling={display:"block",position:"relative",marginTop:"20px",userSelect:"none",width:"250px",height:"50px",textAlign:"center"},a}return Object(c.a)(s,[{key:"render",value:function(){var t=this,e=this.props.selected?"\u2714":"",s=Object.assign({backgroundColor:this.props.colour},Object(d.a)({},this.styling));return i.a.createElement("div",{style:s,onClick:function(e){return t.props.openNavTab(t.props.name,t.props.colour,t.props.id)}},i.a.createElement(k,{position:"absolute",top:"50%",left:"15px",priority:this.props.id,preventPropogation:function(t){return t.stopPropagation()},select:this.props.selectList,check:e}),i.a.createElement("span",{style:{lineHeight:"50px",pointerEvents:"none"}},this.props.name))}}]),s}(a.Component),C=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).inputHandle=function(t){a.setState({input:t.target.value})},a.listColour=function(t,e){var s=JSON.parse(JSON.stringify(a.state.lists)),i=[],o=[],n=t.target.style.backgroundColor;if(e)i.push(e),o.push(s[e].name),s[e].colour=n;else for(var r in s)s[r].selected&&(i.push(r),o.push(s[r].name),s[r].colour=n);a.props.update({idArr:i,colour:n},(function(){!function(t){a.setState({lists:t},(function(){return a.props.editViewColour(o,n)}))}(s)}),"lists")},a.colourPalette=function(){var t=JSON.parse(JSON.stringify(a.state.buttonUI));t.colour.palette=!t.colour.palette,a.setState({buttonUI:t})},a.listRename=function(t,e){if(e){var s=JSON.parse(JSON.stringify(a.state.lists));for(var i in s)if(s[i].selected){s[i].name=e;var o=[i];break}a.props.update({idArr:o,listName:e},(function(){!function(t){a.setState({lists:t})}(s)}),"lists")}else{var n=JSON.parse(JSON.stringify(a.state.buttonUI));n.rename=!n.rename,a.setState({buttonUI:n})}},a.listCreate=function(t){for(var e=0,s=Object.values(a.state.lists);e<s.length;e++){if(s[e].name==a.state.input)return}var i=new XMLHttpRequest;i.open("POST","http://localhost:8000/api/lists/"),i.setRequestHeader("content-type","application/json"),i.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),i.onload=function(){if(201==i.status){var t=JSON.parse(i.response),e=JSON.parse(JSON.stringify(a.state.lists));e[t.id]={name:t.listName,colour:t.colour,selected:!1},a.setState({lists:e,input:""})}},i.send(JSON.stringify({listName:a.state.input}))},a.deleteList=function(){var t=[],e=JSON.parse(JSON.stringify(a.state.lists)),s=JSON.parse(JSON.stringify(a.state.buttonUI));for(var i in e)e[i].selected&&t.push(i);var o=a.state.checkBox-t.length,n=a.selectListCheck(s,o),l=new XMLHttpRequest;l.open("DELETE","http://localhost:8000/api/lists/"),l.setRequestHeader("content-type","application/json"),l.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),l.onload=function(){if(console.log(l.status),204==l.status){var s,i=Object(r.a)(t);try{for(i.s();!(s=i.n()).done;){var o=s.value;a.props.closeNavTab(null,e[o].name),delete e[o]}}catch(c){i.e(c)}finally{i.f()}a.setState({buttonUI:n.buttonUI,checkBox:n.count,lists:e})}},l.send(JSON.stringify(t))},a.selectListCheck=function(t,e){var s=a.state.buttonUI.colour.palette;if(e>1)var i=!0;if(e>=1)var o=!0,n=!0;0==e&&(s=r=o=!1);var r=!i&&a.state.buttonUI.rename;return{count:e,buttonUI:{rename:r,colour:{colour:n,palette:s},delete:o}}},a.selectList=function(t,e){t.stopPropagation();var s=JSON.parse(JSON.stringify(a.state.lists)),i=JSON.parse(JSON.stringify(a.state.buttonUI));if(s[e].selected)var o=a.state.checkBox-1;else o=a.state.checkBox+1;s[e].selected=!s[e].selected;var n=a.selectListCheck(i,o);a.setState({lists:s,checkBox:n.count,buttonUI:n.buttonUI})},a.closeOptions=function(t){var e=JSON.parse(JSON.stringify(a.state.buttonUI));e.rename=!1,e.colour.palette=!1,a.setState({buttonUI:e})},a.buttonsStyle={left:"305px",position:"absolute",marginTop:"10px",top:"130px"},a.state={lists:{},buttonUI:{rename:!1,colour:{palette:!1,button:!1},delete:!1},listsLoaded:!1,checkBox:0,input:""},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var t=this;if(!this.state.listsLoaded){var e=new XMLHttpRequest;e.open("GET","http://localhost:8000/api/lists/"),e.setRequestHeader("content-type","application/json"),e.responseType="json",e.onload=function(){if(200==e.status){var s={};e.response.map((function(t){s[t.id]={name:t.listName,colour:t.colour,selected:!1}})),t.setState({lists:s,tasksLoaded:!0})}},e.send(),this.props.passFunction(this.listColour)}}},{key:"render",value:function(){var t=!0;1!=this.state.checkBox&&(t=!1);var e={margin:"50px",width:"90%",height:"90%"},s="none";this.props.activeView!=this.props.className?e.display="none":s=this.props.reference;var a=[];for(var o in this.state.lists)a.push(i.a.createElement(w,{colour:this.state.lists[o].colour,selectList:this.selectList,selected:this.state.lists[o].selected,openNavTab:this.props.openNavTab,name:this.state.lists[o].name,id:o}));return i.a.createElement("div",{style:e,ref:s,onClick:this.closeOptions,className:this.props.className},i.a.createElement("input",{style:{width:"235px"},maxLength:25,onChange:this.inputHandle,value:this.state.input}),i.a.createElement("button",{onClick:this.listCreate},"create"),a,i.a.createElement("span",{style:this.buttonsStyle},i.a.createElement(O,{symbol:"\u270d",disabled:t,func:this.listRename,renameUI:this.state.buttonUI.rename}),i.a.createElement(O,{img:"/static/colour.png",listView:!0,checkBox:this.state.checkBox,className:this.props.className,func:this.colourPalette,update:this.listColour,disabled:this.state.buttonUI.colour.colour,colourUI:this.state.buttonUI.colour.palette}),i.a.createElement(O,{img:"/static/delete.png",l:"7px",func:this.deleteList,disabled:this.state.buttonUI.delete})," "))}}]),s}(a.Component),N=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).register=function(t){if(a.state.registerPass==a.state.registerPass2){var e=new XMLHttpRequest;e.open("POST","http://localhost:8000/register/"),e.setRequestHeader("content-type","application/json"),e.onload=function(){console.log("response:",e.response,"status:",e.status),a.errorHandle(JSON.parse(e.response))},e.send(JSON.stringify({username:a.state.registerUser,password:a.state.registerPass,password2:a.state.registerPass2}))}},a.loginUserHandle=function(t){t.target.style.borderColor="none",a.setState({loginUser:t.target.value},console.log(a.state.loginUser))},a.loginPassHandle=function(t){t.target.style.borderColor="none",a.setState({loginPass:t.target.value})},a.registerUserHandle=function(t){t.target.style.borderColor="none",a.setState({registerUser:t.target.value})},a.registerPassHandle=function(t){t.target.style.borderColor="none",a.setState({registerPass:t.target.value})},a.registerPass2Handle=function(t){t.target.style.borderColor="none",a.setState({registerPass2:t.target.value})},a.tabClick=function(t){t.target.innerText!=a.state.view&&a.setState({view:t.target.innerText,inputErrors:[]})},a.container={color:"white",display:"grid",position:"absolute",alignItems:"center",justifyItems:"center",margin:"0 auto",top:"50%",left:"50%",transform:"translateY(-50%) translateX(-50%) scale(125%)",backgroundColor:"#676768",border:"20px solid #676768",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",width:"300px",height:"200px"},a.nav={fontSize:"80%",display:"grid",gridTemplateColumns:"50% 50%",textAlign:"center",position:"absolute",borderTopRightRadius:"20px",borderTopLeftRadius:"20px",top:-35,width:"340px",height:"25px",backgroundColor:"#676768",overflow:"hidden"},a.loginTab={lineHeight:"25px"},a.registerTab={lineHeight:"25px"},a.state={view:"login",loginUser:"",loginPass:"",registerUser:"",registerPass:"",registerPass2:"",inputErrors:[]},a}return Object(c.a)(s,[{key:"errorHandle",value:function(t){var e=[];for(var s in t)e.push(Object(v.a)({},s,t[s]));this.setState({inputErrors:e})}},{key:"render",value:function(){var t,e=this,s={boxShadow:"none"},a={boxShadow:"none"},o=Object(r.a)(this.state.inputErrors);try{for(o.s();!(t=o.n()).done;){var n=t.value;n.username?s.boxShadow="0px 0px 5px rgba(255,0,0,0.9)":n.password&&(a.boxShadow="0px 0px 5px rgba(255,0,0,0.9)")}}catch(u){o.e(u)}finally{o.f()}if("login"==this.state.view)var l=this.loginTab,c=Object.assign({backgroundColor:"rgba(255,255,255,0.1)",cursor:"pointer"},Object(d.a)({},this.registerTab)),p=i.a.createElement(i.a.Fragment,null,"Username",i.a.createElement("input",{key:"logUser",style:s,onChange:this.loginUserHandle}),"Password",i.a.createElement("input",{key:"logPass",style:a,onChange:this.loginPassHandle,type:"password"}),i.a.createElement("button",{onClick:function(){return e.props.login(e.state.loginUser,e.state.loginPass,(function(t){return e.errorHandle(t)}))}},"login"));else l=Object.assign({backgroundColor:"rgba(255,255,255,0.1)",cursor:"pointer"},Object(d.a)({},this.loginTab)),c=this.registerTab,p=i.a.createElement(i.a.Fragment,null,"Username",i.a.createElement("input",{key:"regUser",style:s,onChange:this.registerUserHandle}),"Password",i.a.createElement("input",{key:"regPass",style:a,onChange:this.registerPassHandle,type:"password"}),"Confirm Password",i.a.createElement("input",{key:"regPass2",onChange:this.registerPass2Handle,type:"password"}),i.a.createElement("button",{onClick:this.register},"create"));return i.a.createElement("div",{style:this.container},i.a.createElement("div",{style:this.nav},i.a.createElement("span",{onClick:this.tabClick,style:c},"register"),i.a.createElement("span",{onClick:this.tabClick,style:l},"login")),p)}}]),s}(a.Component),E=function(t){Object(p.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).login=function(t,e,s){var i=new XMLHttpRequest;i.open("POST","http://localhost:8000/login/"),i.setRequestHeader("content-type","application/json"),i.onload=function(){console.log(i.response),'"Success"'==i.response?(localStorage.setItem("loggedIn",!0),a.setState({loggedIn:!0})):s(JSON.parse(i.response))},i.send(JSON.stringify({username:t,password:e}))},a.passFunction=function(t){a.setState({func:t})},a.failSafe=function(t){if(t.current)if("Lists"==a.state.activeView)t.current.click();else{var e=document.createEvent("MouseEvents");e.initEvent("mouseup",!0,!0),t.current.dispatchEvent(e)}},a.changeView=function(t,e){a.setState({activeView:t,colour:e})},a.editViewColour=function(t,e){var s=JSON.parse(JSON.stringify(a.state.views)),i=a.state.colour;a.state.activeView==t&&(i=e);var o,n=Object(r.a)(t);try{for(n.s();!(o=n.n()).done;){var l=o.value;s[l]&&(s[l].colourCode=e)}}catch(c){n.e(c)}finally{n.f()}a.setState({views:s,colour:i})},a.openNavTab=function(t,e,s){if(!a.state.views[t]){var i=JSON.parse(JSON.stringify(a.state.views));i[t]={colourCode:e,listId:s},a.setState({views:i})}},a.closeNavTab=function(t,e){if(t){t.stopPropagation();var s=t.target.parentNode.className}else s=e;var i=JSON.parse(JSON.stringify(a.state.views));i[s]&&(delete i[s],a.setState({views:i},(function(){if(a.state.views.length){var t=Object.keys(a.state.views).slice(-1)[0];a.changeView(t,a.state.views[t].colourCode)}else a.changeView("Lists","#079d41")})))},a.update=function(t,e,s){var a=new XMLHttpRequest;a.open("PATCH","http://localhost:8000/api/"+s+"/"),a.setRequestHeader("content-type","application/json"),a.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),a.onload=function(){206==a.status&&e()},a.send(JSON.stringify(t))},a.activeViewContainer=i.a.createRef(),a.state={views:{},colour:"#079d41",activeView:"Lists",loggedIn:!1,user:{},func:null},a}return Object(c.a)(s,[{key:"componentWillMount",value:function(){document.documentElement.style.height="100%",document.body.style.height="100%",document.getElementById("root").style.height="90%",this.state.loggedIn||"true"!=localStorage.getItem("loggedIn")||this.setState({loggedIn:!0})}},{key:"render",value:function(){var t=this;if(document.body.style.backgroundColor=this.state.colour,this.state.loggedIn){var e=i.a.createElement("a",{style:{color:"black"},onClick:function(){return localStorage.setItem("loggedIn",!1)},href:"http://localhost:8000/logout"},"logout"),s=[];for(var a in this.state.views)s.push(i.a.createElement(x,{className:a,key:a,reference:this.activeViewContainer,listId:this.state.views[a].listId,update:this.update,updateList:this.state.func,activeView:this.state.activeView}));var o=[i.a.createElement(b,{views:this.state.views,closeNavTab:this.closeNavTab,changeView:this.changeView,activeView:this.state.activeView}),i.a.createElement("div",{style:{minHeight:"90%"},id:"views",onClick:function(){return t.failSafe(t.activeViewContainer)}},i.a.createElement(C,{className:"Lists",reference:this.activeViewContainer,update:this.update,closeNavTab:this.closeNavTab,openNavTab:this.openNavTab,editViewColour:this.editViewColour,passFunction:this.passFunction,activeView:this.state.activeView}),s)]}else o=i.a.createElement(N,{login:this.login});return i.a.createElement(i.a.Fragment,null,o,e)}}]),s}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.9b80c40d.chunk.js.map