(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(12),i=a.n(o),r=(a(18),a(6)),l=a(5),c=a(1),p=a(2),u=a(4),d=a(3),g=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).xstyle={fontSize:"90%",color:"black"},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t={cursor:"pointer",display:"inline-block",backgroundColor:this.props.colourCode,color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"};if(this.props.activeView!=this.props.className&&(t.filter="brightness(95%)"),this.props.className.length>7)var a=this.props.className.slice(0,5)+"...";else a=this.props.className;return n.a.createElement("div",{className:this.props.className,style:t,onClick:function(t){return e.props.changeView(t.target.className,t.target.style.backgroundColor)}},n.a.createElement("span",{style:this.xstyle,onClick:this.props.closeNavTab},"x"),a)}}]),a}(s.Component),h=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).styling={cursor:"pointer",display:"inline-block",backgroundColor:"#079d41",transitionDuration:"0.5s",color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"},s.state={},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Lists",style:this.styling,onMouseOver:this.hover,onMouseLeave:this.hoverLeave,onClick:function(t){return e.props.changeView(t.target.className,t.target.style.backgroundColor)}},"Lists")}}]),a}(s.Component),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).barStyle={paddingTop:"5px",backgroundColor:"#373737"},s}return Object(p.a)(a,[{key:"render",value:function(){var e,t=[],a=Object(l.a)(this.props.views);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(n.a.createElement(g,{closeNavTab:this.props.closeNavTab,className:s.className,colourCode:s.colourCode,changeView:this.props.changeView,activeView:this.props.activeView}))}}catch(o){a.e(o)}finally{a.f()}return n.a.createElement("header",{style:this.barStyle},n.a.createElement(h,{changeColour:this.props.changeColour,changeView:this.props.changeView}),t)}}]),a}(s.Component),m=a(9),f=a(10),b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).styling={color:"white",backgroundColor:"black",display:"inline-block",width:"20px",height:"20px",cursor:"pointer"},s}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{onMouseOver:this.props.buttonFunctions.onMouseOver,onMouseLeave:this.props.buttonFunctions.onMouseLeave,onMouseDown:this.props.buttonFunctions.onMouseDown,onClick:this.props.onClick,style:this.styling},this.props.symbol)}}]),a}(s.Component),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("span",{onMouseOver:function(e){e.target.style.backgroundColor="rgba(250,250,250,1)"},onMouseLeave:function(e){e.target.style.backgroundColor="rgba(240,240,240,1)"},onMouseDown:this.props.preventPropogation,onClick:function(){return e.props.selectTask(e.props.name)},style:{lineHeight:"9px",position:"absolute",top:"50%",transform:"translateY(-50%)",height:"10px",width:"10px",left:"15px",border:"1px solid rgba(200,200,200,1)",backgroundColor:"rgba(240,240,240,1)"}},this.props.check)}}]),a}(s.Component),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeTaskColour=function(e){s.setState({taskColour:e.target.value})},s.preventPropogation=function(e){e.stopPropagation()},s.hover=function(e){s.props.dragging||(e.target.style.textShadow="0px 0px 8px cyan")},s.hoverEnd=function(e){e.target.style.textShadow="none"},s.optionsClick=function(e){"none"==s.state.optionsVisibility?s.setState({optionsVisibility:"inline-block"}):s.setState({optionsVisibility:"none"})},s.descriptionClick=function(e){console.log("description")},s.buttonFunctions={onMouseOver:s.hover,onMouseLeave:s.hoverEnd,onMouseDown:s.preventPropogation},s.defaultStyle={userSelect:"none",width:"250px",height:"50px",textAlign:"center"},s.state={taskColour:s.props.colour,optionsVisibility:"none"},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.selected?"\u2714":"";if(this.props.dragging==this.props.name)var a=Object.assign({pointerEvents:"none",zIndex:1,position:"fixed",top:this.props.mouse.y-25+"px",left:this.props.mouse.x-125+"px",backgroundColor:this.state.taskColour},this.defaultStyle),s=n.a.createElement("div",{style:{position:"relative",marginTop:"20px",marginLeft:this.props.marginLeft,width:"250px",height:"50px",transform:this.props.size}});else a=Object.assign({marginLeft:this.props.marginLeft,position:"relative",marginTop:"20px",backgroundColor:this.state.taskColour},this.defaultStyle),s=null;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:a,onMouseOver:function(t){return e.props.dragOver(t,e.props.name)},onMouseDown:function(){return e.props.dragStart(e.props.name)}},n.a.createElement(k,{name:this.props.name,preventPropogation:this.preventPropogation,selectTask:this.props.selectTask,check:t}),n.a.createElement("span",{style:{position:"absolute",top:"30px",left:"230px",float:"right"}},n.a.createElement(b,{buttonFunctions:this.buttonFunctions,onClick:this.descriptionClick,symbol:"?"})),n.a.createElement("span",{style:{lineHeight:"50px"}},this.props.name)),s)}}]),a}(s.Component),w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).container={color:"white",display:"grid",position:"fixed",alignItems:"center",justifyItems:"center",margin:"0 auto",top:"40%",left:"50%",marginTop:"-100px",marginLeft:"-150px",backgroundColor:"#079d41",border:"20px solid #079d41",borderRadius:"20px",width:"300px",height:"200px"},s.textarea={maxWidth:"200px",maxHeight:"70px",width:"200px",height:"70px"},s.state={taskName:"",listName:"",taskColour:"",viewColour:"",description:""},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.disabled?n.a.createElement("input",{disabled:!0}):n.a.createElement("input",null);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:this.container},"List Name",n.a.createElement("input",null),"Task Name",t,"Task Colour",n.a.createElement("input",{type:"color"}),"View Colour",n.a.createElement("input",{type:"color"}),"Description ",n.a.createElement("textarea",{maxLength:"250",style:this.textarea}),n.a.createElement("button",null,"Submit"),n.a.createElement("button",{onClick:function(){return e.props.deleteTask(e.props.name)}},"Delete")))}}]),a}(s.Component),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).inputHandle=function(e){s.setState({input:e.target.value})},s.selectTask=function(e){var t=Object(f.a)({},s.state.checkBoxes);t[e]=!t[e],s.setState({checkBoxes:t})},s.setMouse=function(e){s.props.activeView==s.props.className&&s.state.dragging&&s.setState({mouse:{x:e.clientX,y:e.clientY}},(function(){if(s.state.draggedOver){var e,t=Object(r.a)(s.state.tasks),a=0,n=Object(l.a)(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.name==s.state.dragging)var i=a,c=t[i];else if(o.name==s.state.draggedOver.name)var p=a;a++}}catch(u){n.e(u)}finally{n.f()}(s.state.mouse.y<s.state.draggedOver.pos&&!(i<p)||s.state.mouse.y>s.state.draggedOver.pos&&!(i>p))&&(t.splice(i,1),t.splice(p,0,c),s.setState({tasks:t}))}}))},s.dragStart=function(e){s.setState({dragging:e})},s.drop=function(){s.setState({dragging:null,draggedOver:null,mouse:0})},s.dragOver=function(e,t){if(s.state.dragging){var a=e.target.getBoundingClientRect(),n=a.bottom-a.height/2;s.setState({draggedOver:{name:t,pos:n}})}},s.deleteTask=function(e){var t=new XMLHttpRequest;t.open("DELETE","http://localhost:8000/api/tasks/"+s.props.listId+"/"+s.state.tasks[e].id),t.setRequestHeader("content-type","application/json"),t.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),t.onload=function(){if(console.log(t.status),204==t.status){var a=Object(r.a)(s.state.tasks);delete a[e],s.setState({tasks:a})}},t.send()},s.taskCreate=function(e){if(!s.state.tasks.includes(s.state.input)){var t=new XMLHttpRequest;t.open("POST","http://localhost:8000/api/tasks/"+s.props.listId+"/"),t.setRequestHeader("content-type","application/json"),t.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),t.onload=function(){201==t.status&&s.setState({tasks:Object(f.a)(Object(f.a)({},s.state.tasks),{},Object(m.a)({},s.state.input,{id:JSON.parse(t.response).id,colour:"#079d41",description:"",taskCheck:!1})),input:""})},t.send(JSON.stringify({listId:s.props.listId,taskName:s.state.input}))}},s.state={tasks:{},tasksLoaded:!1,dragging:null,draggedOver:null,mouse:0,input:""},s}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.activeView==this.props.className&&!this.state.tasksLoaded){var t=new XMLHttpRequest;t.open("GET","http://localhost:8000/api/tasks/"+this.props.listId),t.setRequestHeader("content-type","application/json"),t.responseType="json",t.onload=function(){if(200==t.status){var a={};t.response.map((function(e){a[e.taskName]={id:e.id,colour:"#079d41",description:"",taskCheck:!1,priority:0}})),e.setState({tasks:a,tasksLoaded:!0})}},t.send()}}},{key:"render",value:function(){var e={margin:"50px"};this.props.activeView!=this.props.className&&(e.display="none"),console.log(this.state.checkBoxes);var t,a=[],s=Object(l.a)(this.state.tasks);try{for(s.s();!(t=s.n()).done;){var o=t.value;a.push(n.a.createElement("div",{key:o.name},n.a.createElement(y,{colour:o.colour,selected:this.state.checkBoxes[o.name],selectTask:this.selectTask,listId:this.props.listId,dragOver:this.dragOver,dragging:this.state.dragging,mouse:this.state.mouse,deleteTask:this.deleteTask,dragStart:this.dragStart,subTaskCreate:this.subTaskCreate,name:o.name,id:o.id})))}}catch(i){s.e(i)}finally{s.f()}return n.a.createElement("div",{onMouseMove:this.setMouse,onMouseUp:this.drop,className:this.props.className,style:e},n.a.createElement(w,{disabled:!0}),n.a.createElement("input",{key:"taskCreationInput",onChange:this.inputHandle}),n.a.createElement("button",{onClick:this.taskCreate},"create"),a)}}]),a}(s.Component),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).buttonFunctions={onMouseOver:function(){},onMouseLeave:function(){},onDown:function(){},onClick:function(){}},s.styling={display:"block",backgroundColor:"grey",position:"relative",marginTop:"20px",userSelect:"none",width:"250px",height:"50px",textAlign:"center"},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:this.styling,onClick:function(t){return e.props.openNavTab(e.props.list.name,t.target.children[1].value,e.props.list.listId)}},n.a.createElement("span",{style:{lineHeight:"50px",pointerEvents:"none"}},this.props.list.name),n.a.createElement("select",{style:{position:"absolute",left:"100%"},onClick:function(e){return e.stopPropagation()},onChange:function(t){e.props.editViewColour(e.props.list.name,t.target.value)}},n.a.createElement("option",{value:"#676768"},"#676767"),n.a.createElement("option",{value:"#333399"},"#333399")),n.a.createElement("span",{style:{position:"absolute",top:"30px",left:"228px",float:"right"}},n.a.createElement(b,{symbol:"\u2699\ufe0f",onClick:function(e){return e.stopPropagation()},buttonFunctions:this.buttonFunctions})))}}]),a}(s.Component),x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).listCreate=function(e){var t=e.target.parentNode.children[0].value;if(!s.state.lists.some((function(e){return e.name==t}))&&/\S/.test(t)){var a=new XMLHttpRequest;a.open("POST","http://localhost:8000/api/lists/"),a.setRequestHeader("content-type","application/json"),a.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),a.onload=function(){if(201==a.status){var e=JSON.parse(a.response);s.setState({lists:[].concat(Object(r.a)(s.state.lists),[{name:e.listName,listId:e.id}])})}},e.target.parentNode.children[0].value="",a.send(JSON.stringify({listName:t,userid:1}))}},s.state={lists:[],listsLoaded:!1},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(!this.state.listsLoaded){var t=new XMLHttpRequest;t.open("GET","http://localhost:8000/api/lists/"),t.setRequestHeader("content-type","application/json"),t.responseType="json",t.onload=function(){if(200==t.status){var a=[];t.response.map((function(e){a.push({name:e.listName,listId:e.id})})),e.setState({lists:a,tasksLoaded:!0})}},t.send()}}},{key:"render",value:function(){var e={margin:"50px"};this.props.activeView!=this.props.className&&(e.display="none");var t,a=[],s=Object(l.a)(this.state.lists);try{for(s.s();!(t=s.n()).done;){var o=t.value;a.push(n.a.createElement(O,{openNavTab:this.props.openNavTab,list:o,editViewColour:this.props.editViewColour}))}}catch(i){s.e(i)}finally{s.f()}return n.a.createElement("div",{style:e,className:this.props.className},n.a.createElement("input",null),n.a.createElement("button",{onClick:this.listCreate},"create"),a)}}]),a}(s.Component),E=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).register=function(){var e=new XMLHttpRequest;e.open("POST","http://localhost:8000/register/"),e.setRequestHeader("content-type","application/json"),e.onload=function(){console.log("loaded: ",e.response,e.status)},console.log(s.state.registerUser,s.state.registerPass),e.send(JSON.stringify({username:s.state.registerUser,password:s.state.registerPass}))},s.loginUserHandle=function(e){s.setState({loginUser:e.target.value},console.log(s.state.loginUser))},s.loginPassHandle=function(e){s.setState({loginPass:e.target.value})},s.registerUserHandle=function(e){s.setState({registerUser:e.target.value})},s.registerPassHandle=function(e){s.setState({registerPass:e.target.value})},s.registerPass2Handle=function(e){s.setState({registerPass2:e.target.value})},s.tabClick=function(e){e.target.innerText!=s.state.view&&s.setState({view:e.target.innerText})},s.container={color:"white",display:"grid",position:"absolute",alignItems:"center",justifyItems:"center",margin:"0 auto",top:"50%",left:"50%",marginTop:"-100px",marginLeft:"-150px",backgroundColor:"#676768",border:"20px solid #676768",borderRadius:"20px",width:"300px",height:"200px"},s.nav={mixBlendMode:"screen",fontSize:"80%",display:"grid",gridTemplateColumns:"50% 50%",textAlign:"center",position:"absolute",top:-20,width:"340px",height:"10px"},s.inactiveTab={cursor:"pointer",backgroundColor:"rgba(255,255,255,0.1)",paddingBottom:"3px"},s.activeTab={opacity:"0.5"},s.state={view:"login",loginUser:"",loginPass:"",registerUser:"",registerPass:"",registerPass2:""},s}return Object(p.a)(a,[{key:"render",value:function(){var e=this;if("login"==this.state.view)var t=this.activeTab,a=this.inactiveTab,s=n.a.createElement(n.a.Fragment,null,"Username",n.a.createElement("input",{key:"logUser",onChange:this.loginUserHandle}),"Password",n.a.createElement("input",{key:"logPass",onChange:this.loginPassHandle,type:"password"}),n.a.createElement("button",{onClick:function(){return e.props.login(e.state.loginUser,e.state.loginPass)}},"login"));else t=this.inactiveTab,a=this.activeTab,s=n.a.createElement(n.a.Fragment,null,"Username",n.a.createElement("input",{key:"regUser",onChange:this.registerUserHandle}),"Password",n.a.createElement("input",{key:"regPass",onChange:this.registerPassHandle,type:"password"}),"Confirm Password",n.a.createElement("input",{key:"regPass2",onChange:this.registerPass2Handle,type:"password"}),n.a.createElement("button",{onClick:this.register},"create"));return n.a.createElement("div",{style:this.container},n.a.createElement("div",{style:this.nav},n.a.createElement("span",{onClick:this.tabClick,style:a},"register"),n.a.createElement("span",{onClick:this.tabClick,style:t},"login")),s)}}]),a}(s.Component),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).login=function(e,t){var a=new XMLHttpRequest;a.open("POST","http://localhost:8000/login/"),a.setRequestHeader("content-type","application/json"),a.onload=function(){console.log(a.response),'"Success"'==a.response&&(localStorage.setItem("loggedIn",!0),s.setState({loggedIn:!0}))},a.send(JSON.stringify({username:e,password:t}))},s.changeView=function(e,t){s.setState({activeView:e,colour:t})},s.editViewColour=function(e,t){var a,n=[],o=Object(l.a)(s.state.views);try{for(o.s();!(a=o.n()).done;){var i=a.value;i.className==e?n.push({className:e,colourCode:t,listId:i.listId}):n.push(i)}}catch(r){o.e(r)}finally{o.f()}s.setState({views:n})},s.openNavTab=function(e,t,a){console.log(t),s.state.views.some((function(t){return t.className==e}))||s.setState({views:[].concat(Object(r.a)(s.state.views),[{className:e,colourCode:t,listId:a}])})},s.closeNavTab=function(e){e.stopPropagation();var t,a=[],n=e.target.parentNode.className,o=Object(l.a)(s.state.views);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.className!=n&&a.push(i)}}catch(r){o.e(r)}finally{o.f()}s.setState({views:a},(function(){if(s.state.views.length){var e=s.state.views.slice(-1)[0];s.changeView(e.className,e.colourCode)}else s.changeView("Lists","#079d41")}))},s.state={views:[],colour:"#079d41",activeView:"Lists",loggedIn:!1,user:{}},s}return Object(p.a)(a,[{key:"componentWillMount",value:function(){this.state.loggedIn||"true"!=localStorage.getItem("loggedIn")||this.setState({loggedIn:!0})}},{key:"render",value:function(){if(document.body.style.backgroundColor=this.state.colour,this.state.loggedIn){var e,t=[],a=Object(l.a)(this.state.views);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(n.a.createElement(C,{key:s.className,listId:s.listId,className:s.className,activeView:this.state.activeView}))}}catch(i){a.e(i)}finally{a.f()}var o=[n.a.createElement(v,{views:this.state.views,closeNavTab:this.closeNavTab,changeView:this.changeView,activeView:this.state.activeView}),n.a.createElement("div",{id:"views"},n.a.createElement(x,{className:"Lists",openNavTab:this.openNavTab,editViewColour:this.editViewColour,activeView:this.state.activeView}),t)]}else o=n.a.createElement(E,{login:this.login});return n.a.createElement(n.a.Fragment,null,o,n.a.createElement("a",{onClick:function(){return localStorage.setItem("loggedIn",!1)},href:"http://localhost:8000/logout"},"logout"))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.3dce73a2.chunk.js.map