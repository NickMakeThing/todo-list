(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(t,e,s){t.exports=s(21)},20:function(t,e,s){},21:function(t,e,s){"use strict";s.r(e);var a=s(0),o=s.n(a),i=s(13),n=s.n(i),r=(s(20),s(6)),l=s(1),p=s(2),c=s(4),u=s(3),d=s(5),h=s(14),g=s(11),f=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).xstyle={fontSize:"90%",color:"black"},a.tab=o.a.createRef(),a}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(t){t.size==this.props.size&&t.tabPosMod==this.props.tabPosMod||this.props.passRect(this.tab.current.getBoundingClientRect().right)}},{key:"componentDidMount",value:function(){this.props.passRect(this.tab.current.getBoundingClientRect().right)}},{key:"render",value:function(){var t=this,e={cursor:"pointer",display:"inline-block",backgroundColor:this.props.colourCode,color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"};if(this.props.activeView!=this.props.className&&(e.filter="brightness(95%)"),this.props.className.length>7)var s=this.props.className.slice(0,5)+"...";else s=this.props.className;return o.a.createElement("div",{ref:this.tab,key:this.props.className+"tab",className:this.props.className,style:e,onClick:function(e){return t.props.changeView(e.target.className,e.target.style.backgroundColor)}},o.a.createElement("span",{style:this.xstyle,onClick:this.props.closeNavTab},"x"),s)}}]),s}(a.Component),m=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).styling={cursor:"pointer",display:"inline-block",backgroundColor:"#079d41",transitionDuration:"0.5s",color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"},a.tab=o.a.createRef(),a}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(t){t.tabPosMod!=this.props.tabPosMod&&this.props.passRect(this.tab.current.getBoundingClientRect().left,"list")}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{ref:this.tab,className:"Lists",style:this.styling,onMouseOver:this.hover,onMouseLeave:this.hoverLeave,onClick:function(e){return t.props.changeView(e.target.className,e.target.style.backgroundColor)}},"Lists")}}]),s}(a.Component),b=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).passRect=function(t,e){"list"==e?a.setState({listTabPos:t}):a.setState({lastTabPos:t})},a.lastTabClick=function(t){t.stopPropagation(),a.state.lastTabPos>a.state.windowW&&a.setState({tabPosMod:a.state.tabPosMod-50})},a.listTabClick=function(t){t.stopPropagation(),a.setState({tabPosMod:a.state.tabPosMod+50})},a.barStyle={userSelect:"none",paddingTop:"5px",backgroundColor:"#373737",width:"100%",whiteSpace:"nowrap"},a.scrollStyle={position:"absolute",zIndex:"1",marginTop:"-5px",textAlign:"center",height:"36px",width:"20px",lineHeight:"36px",color:"white",backgroundColor:"black"},a.state={views:[],lastTabPos:0,listTabPos:0,tabPosMod:0,windowW:window.innerWidth},a.handleResize=a.handleResize.bind(Object(g.a)(a)),a}return Object(p.a)(s,[{key:"handleResize",value:function(t,e){this.setState({windowW:window.innerWidth})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",null)}},{key:"componentWillUpdate",value:function(t){var e=Object.keys(t.views).length,s=Object.keys(this.props.views).length,a=Object(h.a)(this.state.views);if(e>s){for(var o in t.views)this.state.views.includes(o)||a.push(o);this.setState({views:a})}else if(e<s){var i,n=Object(r.a)(a);try{for(n.s();!(i=n.n()).done;){var l=i.value;Object.keys(t.views).includes(l)||a.splice(a.indexOf(l),1)}}catch(p){n.e(p)}finally{n.f()}this.setState({views:a})}}},{key:"render",value:function(){var t,e,s=Object.assign({left:this.state.tabPosMod},this.barStyle);if(this.state.lastTabPos>this.state.windowW){var a=Object.assign({right:0},Object(d.a)({},this.scrollStyle));e=o.a.createElement("span",{style:a,onClick:this.lastTabClick},"\u25b6")}if(this.state.listTabPos<0){var i=Object.assign({left:0},Object(d.a)({},this.scrollStyle));t=o.a.createElement("span",{style:i,onClick:this.listTabClick},"\u25c0")}var n,l=[],p=0,c=this.state.views.length,u=function(){},h=Object(r.a)(this.state.views);try{for(h.s();!(n=h.n()).done;){var g=n.value;p==c-1&&(u=this.passRect),this.props.views[g]&&l.push(o.a.createElement(f,{closeNavTab:this.props.closeNavTab,size:c,tabPosMod:this.state.tabPosMod,className:g,passRect:u,colourCode:this.props.views[g].colourCode,changeView:this.props.changeView,activeView:this.props.activeView})),p++}}catch(b){h.e(b)}finally{h.f()}return o.a.createElement("header",{style:s},t,o.a.createElement("span",{style:{marginLeft:this.state.tabPosMod}},o.a.createElement(m,{changeColour:this.props.changeColour,changeView:this.props.changeView,tabPosMod:this.state.tabPosMod,passRect:u}),l),e)}}]),s}(a.Component),v=s(8),y=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).styling={color:"white",backgroundColor:"black",display:"inline-block",width:"20px",height:"20px",cursor:"pointer"},a}return Object(p.a)(s,[{key:"render",value:function(){return o.a.createElement("div",{onMouseOver:this.props.buttonFunctions.onMouseOver,onMouseLeave:this.props.buttonFunctions.onMouseLeave,onMouseDown:this.props.buttonFunctions.onMouseDown,onClick:this.props.onClick,style:this.styling},this.props.symbol)}}]),s}(a.Component),k=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){return Object(l.a)(this,s),e.call(this,t)}return Object(p.a)(s,[{key:"render",value:function(){var t=this;return o.a.createElement("span",{onMouseOver:function(t){t.target.style.backgroundColor="rgba(250,250,250,1)"},onMouseLeave:function(t){t.target.style.backgroundColor="rgba(240,240,240,1)"},onMouseDown:this.props.preventPropogation,onMouseUp:this.props.mouseUpFix,onClick:function(e){return t.props.select(e,t.props.priority)},style:{display:"inline-block",userSelect:"none",color:"black",lineHeight:"9px",position:this.props.position,top:this.props.top,transform:"translateY(-50%)",height:"10px",width:"10px",left:this.props.left,border:"1px solid rgba(200,200,200,1)",backgroundColor:"rgba(240,240,240,1)"}},this.props.check)}}]),s}(a.Component),S=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).changeTaskColour=function(t){a.setState({taskColour:t.target.value})},a.preventPropogation=function(t){t.stopPropagation()},a.hover=function(t){a.props.dragging||(t.target.style.textShadow="0px 0px 8px cyan")},a.hoverEnd=function(t){t.target.style.textShadow="none"},a.optionsClick=function(t){"none"==a.state.optionsVisibility?a.setState({optionsVisibility:"inline-block"}):a.setState({optionsVisibility:"none"})},a.descriptionClick=function(t){console.log("description")},a.buttonFunctions={onMouseOver:a.hover,onMouseLeave:a.hoverEnd,onMouseDown:a.preventPropogation},a.defaultStyle={userSelect:"none",width:"250px",height:"50px",textAlign:"center"},a.textStyle={position:"absolute",left:"30px",width:"200px",fontSize:"90%"},a.textSpan=o.a.createRef(),a.state={taskColour:a.props.colour,lineHeight:"50px",wordBreak:""},a}return Object(p.a)(s,[{key:"componentDidMount",value:function(){this.textSpan.current.scrollWidth>200&&this.setState({lineHeight:"25px",wordBreak:"break-all"})}},{key:"render",value:function(){var t=this,e=Object.assign({lineHeight:this.state.lineHeight,wordBreak:this.state.wordBreak},Object(d.a)({},this.textStyle));this.state.wordBreak||(e.whiteSpace="nowrap");var s=this.props.completed?o.a.createElement("s",null,this.props.name):this.props.name,a=this.props.selected?"\u2714":"";if(this.props.dragging&&this.props.dragging.name==this.props.name)var i=Object.assign({pointerEvents:"none",zIndex:1,position:"fixed",top:this.props.mouse.y-25+"px",left:this.props.mouse.x-125+"px",backgroundColor:this.props.colour},this.defaultStyle),n=o.a.createElement("div",{style:{position:"relative",marginTop:"20px",marginLeft:this.props.marginLeft,width:"250px",height:"50px",transform:this.props.size}});else i=Object.assign({marginLeft:this.props.marginLeft,position:"relative",marginTop:"20px",backgroundColor:this.props.colour},this.defaultStyle),n=null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:i,onClick:function(t){return t.stopPropagation()},onMouseUp:this.props.mouseUpFix,onMouseOver:function(e){return t.props.dragOver(e,t.props.priority)},onMouseDown:function(e){return t.props.dragStart(e,t.props.priority,t.props.name)}},o.a.createElement(k,{position:"absolute",top:"50%",left:"15px",priority:this.props.priority,preventPropogation:this.preventPropogation,select:this.props.selectTask,check:a}),o.a.createElement("span",{style:{position:"absolute",top:"30px",left:"230px",float:"right"}},o.a.createElement(y,{buttonFunctions:this.buttonFunctions,mouseUpFix:this.props.mouseUpFix,onClick:function(e){return t.props.openDescription(e,t.props.priority)},symbol:"?"})),o.a.createElement("div",{ref:this.textSpan,style:e},s)),n)}}]),s}(a.Component),O=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).customColourHandle=function(t){a.setState({customColour:t.target.value})},a.colourForm=function(){if("colour.png"==a.props.img){if("inline"!=a.state.customColourForm&&a.props.colourUI){if("none"==a.state.customColourForm)t="inline"}else var t="none";a.setState({customColourForm:t})}},a.createColour=function(t,e,s){return e=Object.assign({backgroundColor:t},e),o.a.createElement("span",{style:e,onClick:s})},a.ifDisabled=function(t){return a.props.disabled||(t.opacity="0.5",t.pointerEvents="none"),a.props.l&&(t.marginLeft=a.props.l),t},a.changeTab=function(){a.setState({paletteTab:!a.state.paletteTab})},a.buttonStyle={userSelect:"none",display:"block",cursor:"pointer",marginRight:"10px",marginLeft:"10px",marginBottom:"10px"},a.colourStyle={userSelect:"none",color:"rgba(0,0,0,0.5)",display:"inline-block",margin:"1px",width:"20px",height:"20px",cursor:"pointer",borderRadius:"10px",border:"solid 1px rgba(0,0,0,0.3)",verticalAlign:"middle"},a.paletteStyle={textAlign:"center",float:"right",position:"absolute",marginTop:"-18px",marginLeft:"52px",width:"100px",backgroundColor:"rgba(255,255,255,0.2)",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",padding:"1px"},a.renameStyle={backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderBottom:"solid 2px",width:"100px",position:"absolute",top:"10px",left:"50px"},a.renameButton={position:"absolute",left:"150px",top:"7px"},a.renameContainer={float:"right",marginTop:"-38px",marginLeft:"52px"},a.paletteTabs={userSelect:"none",lineHeight:"20px",textAlign:"center",fontSize:"80%",width:"51px",height:"20px",backgroundColor:"rgba(255,255,255,0.2)",position:"absolute",top:"-20px"},a.chooseColour=o.a.createRef(),a.state={value:"",paletteTab:!0,customColour:"none"},a}return Object(p.a)(s,[{key:"render",value:function(){var t=this;if(this.props.img)var e=this.ifDisabled(Object(d.a)({},this.buttonStyle)),s=o.a.createElement("img",{src:this.props.img,onClick:function(e){t.props.func(e),t.colourForm()},style:e,width:"40",height:"35"});else{var a=this.ifDisabled(Object.assign({lineHeight:"35px",fontSize:"300%",height:"35px",width:"40px"},Object(d.a)({},this.buttonStyle)));s=o.a.createElement("div",{style:a,onClick:this.props.func},this.props.symbol)}var i=Object(d.a)({},this.paletteStyle);if(this.props.renameUI&&this.props.disabled)var n=o.a.createElement("span",{style:this.renameContainer},o.a.createElement("input",{style:this.renameStyle,maxLength:40,onChange:function(e){return t.setState({value:e.target.value})},autoFocus:"true"}),o.a.createElement("button",{style:this.renameButton,onClick:function(e){return t.props.func(e,t.state.value)}},"rename"));else if(this.props.colourUI){var l=Object.assign({left:0,borderTopLeftRadius:"10px"},Object(d.a)({},this.paletteTabs)),p=Object.assign({right:0,borderTopRightRadius:"10px"},Object(d.a)({},this.paletteTabs));if(!this.props.listView&&this.state.paletteTab){p.filter="brightness(70%)",p.cursor="pointer";var c=["#333399","purple","#00d6bd","#a90a0a","#079d41","#df7334","#a9993c","pink"],u=this.changeTab,h=this.props.update}else if(this.props.listView||this.state.paletteTab){if(this.props.listView){(i=Object.assign({borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},i)).marginTop="-38px";c=["#333399","purple","#00d6bd","#a90a0a","#40cc3e","#df7334","#a9993c","pink"],h=function(e){return t.props.update(e)}}}else{l.filter="brightness(70%)",l.cursor="pointer";var c=["#333399","purple","#00d6bd","#a90a0a","#40cc3e","#df7334","#a9993c","pink"],g=this.changeTab,h=function(e){return t.props.updateList(e,t.props.listId)}}var f,m=this.props.listView?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:l,onClick:g},"Tasks"),o.a.createElement("span",{style:p,onClick:u},"View")),b=[],v=Object(r.a)(c);try{for(v.s();!(f=v.n()).done;){var y=f.value;b.push(this.createColour(y,this.colourStyle,h))}}catch(k){v.e(k)}finally{v.f()}n=o.a.createElement("span",{style:i},o.a.createElement("span",null,m),o.a.createElement("span",{style:{width:"100px"}},b))}else if(this.props.descriptionUI)n=o.a.createElement("button",{onClick:this.props.save,style:{position:"absolute",top:"60px",right:"40px"}},"save");else n=null;return o.a.createElement("div",{style:this.props.style,onMouseUp:this.props.mouseUpFix,onClick:function(t){return t.stopPropagation()}},s,n)}}]),s}(a.Component),x=s(7),w=s.n(x),C=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).taskComplete=function(){var t=JSON.parse(JSON.stringify(a.state.tasks)),e=[];for(var s in t)t[s].selected&&(e.push({id:t[s].id,completed:!t[s].completed}),t[s].completed=!t[s].completed);a.props.update(e,(function(){!function(t){a.setState({tasks:t})}(t)}),"tasks/"+a.props.listId)},a.taskColour=function(t){var e=JSON.parse(JSON.stringify(a.state.tasks)),s=t.target.style.backgroundColor,o=[];for(var i in e)e[i].selected&&(o.push({id:e[i].id,colour:s}),e[i].colour=s);a.props.update(o,(function(){!function(t){a.setState({tasks:t})}(e)}),"tasks/"+a.props.listId)},a.taskRename=function(t,e){if(e){var s=JSON.parse(JSON.stringify(a.state.tasks)),o=[];for(var i in s)if(s[i].selected){o.push({id:s[i].id,taskName:e}),s[i].name=e;break}a.props.update(o,(function(){!function(t){a.setState({tasks:t})}(s)}),"tasks/"+a.props.listId)}else{var n=JSON.parse(JSON.stringify(a.state.buttonUI)),r=JSON.parse(JSON.stringify(a.state.description));n.rename=!n.rename,r.showing=!1,a.setState({buttonUI:n,description:r})}},a.inputHandle=function(t){a.setState({input:t.target.value})},a.selectTaskCheck=function(t,e,s){if(s>1)var o=!0;if(s>=1)var i=!0,n=!0;var r=!o&&a.state.buttonUI.rename,l=!0;for(var p in t)if(t[p].selected)if(l){var c=t[p].completed;l=!1}else if(t[p].completed!=c){n=!1;break}return 0==s&&(r=n=i=!1),{tasks:t,count:s,buttonUI:{rename:r,colour:a.state.buttonUI.colour,check:n,delete:i,description:a.state.buttonUI.description}}},a.selectTask=function(t,e){t.stopPropagation();var s=JSON.parse(JSON.stringify(a.state.tasks)),o=JSON.parse(JSON.stringify(a.state.buttonUI));if(s[e].selected)var i=a.state.checkBox-1;else i=a.state.checkBox+1;s[e].selected=!s[e].selected;var n=a.selectTaskCheck(s,o,i);a.setState({tasks:n.tasks,checkBox:n.count,buttonUI:n.buttonUI})},a.setMouse=function(t){a.props.activeView==a.props.className&&a.state.dragging&&a.setState({mouse:{x:t.clientX,y:t.clientY}},(function(){if(a.state.draggedOver){var t=a.state.draggedOver.priority,e=a.state.dragging.priority,s=JSON.parse(JSON.stringify(a.state.tasks));if(a.state.mouse.y<a.state.draggedOver.pos&&e>t){delete s[e],s[t]=a.state.tasks[e];for(var o=parseInt(t)+1;o<=e;o++)s[o]=a.state.tasks[o-1];a.setState({tasks:s,dragging:{priority:t,name:a.state.dragging.name},priorityUpdateInfo:{draggedFrom:a.state.priorityUpdateInfo.draggedFrom,draggedTo:t}})}else if(a.state.mouse.y>a.state.draggedOver.pos&&e<t){delete s[e],s[t]=a.state.tasks[e];for(var i=t-1;i>=e;i--)s[i]=a.state.tasks[i+1];a.setState({tasks:s,dragging:{priority:t,name:a.state.dragging.name},priorityUpdateInfo:{draggedFrom:a.state.priorityUpdateInfo.draggedFrom,draggedTo:t}})}}}))},a.dragStart=function(t,e,s){a.setState({dragging:{priority:e,name:s},mouse:{x:t.clientX,y:t.clientY},priorityUpdateInfo:{draggedFrom:e,draggedTo:e}})},a.mouseUpFix=function(t){t.stopPropagation(),a.state.dragging&&a.setState({dragging:null,draggedOver:null,mouse:0})},a.taskOrderUpdate=function(){var t=JSON.parse(JSON.stringify(a.state.priorityUpdateInfo)),e=JSON.parse(JSON.stringify(a.state.tasks));if(t.draggedFrom!=t.draggedTo){for(var s=Math.max(t.draggedFrom,t.draggedTo),o=[],i=Math.min(t.draggedFrom,t.draggedTo);i<=s;i++)o.push({id:e[i].id,priority:i});a.props.update(o,(function(){return null}),"tasks/"+a.props.listId)}},a.drop=function(t){a.state.dragging?(a.taskOrderUpdate(),a.setState({dragging:null,draggedOver:null,mouse:0,priorityUpdateInfo:{draggedFrom:0,draggedTo:0}})):a.closeOptions()},a.dragOver=function(t,e){if(a.state.dragging){var s=t.target.getBoundingClientRect(),o=s.bottom-s.height/2;a.setState({draggedOver:{priority:e,pos:o}})}},a.fixPriority=function(t){var e=0,s={},a=[];for(var o in t)o!=e&&(t[e]=t[o],delete t[o],a.push(t[e].id),s[t[e].id]=e),e++;return{tasks:t,idArr:a,priority:s}},a.taskDelete=function(){var t=[],e=[],s=JSON.parse(JSON.stringify(a.state.tasks)),o=JSON.parse(JSON.stringify(a.state.description));for(var i in s)s[i].selected&&(t.push(s[i].id),e.push(i));for(var n=JSON.parse(JSON.stringify(a.state.buttonUI)),r=a.state.checkBox-e.length,l=0,p=e;l<p.length;l++){var c=p[l];c==a.state.description.task.priority&&(o={showing:!1,task:1,content:"description",modified:!1}),delete s[c]}var u=a.fixPriority(s);s=u.tasks;var d=a.selectTaskCheck(s,n,r),h=[];for(var g in u.priority)h.push({id:g,priority:u.priority[g]});var f=new XMLHttpRequest;f.open("DELETE","http://localhost:8000/api/tasks/"+a.props.listId+"/"),f.setRequestHeader("content-type","application/json"),f.setRequestHeader("X-CSRFTOKEN",w.a.get("csrftoken")),f.onload=function(){204==f.status&&a.setState({tasks:d.tasks,checkBox:d.count,buttonUI:d.buttonUI,description:o})},f.send(JSON.stringify({delete:t,update:h}))},a.taskCreate=function(){for(var t=0,e=Object.values(a.state.tasks);t<e.length;t++){if(e[t].name==a.state.input)return}var s=new XMLHttpRequest;s.open("POST","http://localhost:8000/api/tasks/"+a.props.listId+"/"),s.setRequestHeader("content-type","application/json"),s.setRequestHeader("X-CSRFTOKEN",w.a.get("csrftoken")),s.onload=function(){if(201==s.status){var t=JSON.parse(s.response);a.setState({tasks:Object(d.a)(Object(d.a)({},a.state.tasks),{},Object(v.a)({},t.priority,{id:t.id,colour:t.colour,description:"",selected:!1,name:t.taskName})),input:""})}};var o=0;a.state.tasks[0]&&(o=parseInt(Object.keys(a.state.tasks).slice(-1)[0])+1),s.send(JSON.stringify({listId:a.props.listId,taskName:a.state.input,priority:o}))},a.colourPalette=function(){var t=JSON.parse(JSON.stringify(a.state.buttonUI)),e=JSON.parse(JSON.stringify(a.state.description));e.showing=!1,t.colour.palette=!t.colour.palette,a.setState({buttonUI:t,description:e})},a.openDescription=function(t,e){if(a.state.description.showing&&e==a.state.description.task.priority)a.closeDescription();else{var s=JSON.parse(JSON.stringify(a.state.tasks[e])),o=JSON.parse(JSON.stringify(a.state.buttonUI));o.description=!0,o.rename=!1,o.colour.palette=!1,s.priority=e;var i={showing:!0,task:s,content:s.description,modified:!1};a.setState({buttonUI:o,description:i})}},a.closeDescription=function(){var t=JSON.parse(JSON.stringify(a.state.description)),e=JSON.parse(JSON.stringify(a.state.buttonUI));e.description=!0,t.showing=!1,t.modified=!1,t.content=t.task.description,a.setState({buttonUI:e,description:t})},a.editDescription=function(t){a.textArea.current.focus();var e=JSON.parse(JSON.stringify(a.state.buttonUI));e.description=!e.description,a.setState({buttonUI:e})},a.saveNewDescription=function(t){var e=JSON.parse(JSON.stringify(a.state.description)),s=JSON.parse(JSON.stringify(a.state.buttonUI)),o=JSON.parse(JSON.stringify(a.state.tasks)),i=[{id:e.task.id,description:e.content}];e.modified=!1,s.description=!s.description,o[e.task.priority].description=e.content;a.props.update(i,(function(){!function(t,e,s){a.setState({tasks:t,buttonUI:e,description:s})}(o,s,e)}),"tasks/"+a.props.listId)},a.changeDescription=function(t){var e=JSON.parse(JSON.stringify(a.state.description));e.content=t.target.value,e.modified=!0,a.setState({description:e})},a.closeOptions=function(t){var e=JSON.parse(JSON.stringify(a.state.buttonUI)),s=JSON.parse(JSON.stringify(a.state.description));e.rename=!1,e.colour.palette=!1,s.showing=!1,a.setState({buttonUI:e,description:s})},a.inputStyle={width:"235px",fontSize:"14px",maxWidth:"235px",maxHeight:"32px"},a.buttonsStyle={marginLeft:"255px",position:"absolute",marginTop:"10px"},a.ghostDiv={position:"relative",height:"34px",pointerEvents:"none",marginBottom:"10px"},a.descriptionContainer={position:"absolute",left:"400px",top:"140px",height:"100%"},a.descriptionStyle={position:"sticky",top:0,left:0,maxWidth:"300px",backgroundColor:"rgba(255,255,255,0.5)",overflow:"hidden"},a.textAreaStyle={color:"rgba(0,0,0,1)",display:"block",border:"none",backgroundColor:"rgba(0,0,0,0)",resize:"none"},a.closeDescriptionStyle={marginTop:"-2px",marginRight:"3px",float:"right",cursor:"pointer",opacity:.3},a.textArea=o.a.createRef(),a.state={tasks:{},tasksLoaded:!1,dragging:null,draggedOver:null,mouse:0,input:"",checkBox:0,buttonUI:{rename:!1,colour:{palette:!1,button:!1},check:!1,delete:!1,description:!0},description:{showing:!1,task:1,content:"description",modified:!1},priorityUpdateInfo:{draggedFrom:0,draggedTo:0}},a}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(){var t=this;if(this.props.activeView==this.props.className&&!this.state.tasksLoaded){var e=new XMLHttpRequest;e.open("GET","http://localhost:8000/api/tasks/"+this.props.listId),e.setRequestHeader("content-type","application/json"),e.responseType="json",e.onload=function(){if(200==e.status){var s={};e.response.map((function(t){s[t.priority]={id:t.id,colour:t.colour,description:t.description,selected:!1,name:t.taskName,completed:t.completed}})),t.setState({tasks:s,tasksLoaded:!0})}},e.send()}}},{key:"render",value:function(){var t=!0;1!=this.state.checkBox&&(t=!1);var e={margin:"50px",width:"90%",height:"90%"},s="none";this.props.activeView!=this.props.className?e.display="none":s=this.props.reference;var a="none";if(this.state.description.showing&&(a="block"),this.state.description.task.priority)var i={backgroundColor:this.state.description.task.colour};var n=this.state.description.modified?o.a.createElement("span",{style:{color:"red"}},"(modified)"):null,r=Object.assign({display:a},Object(d.a)({},this.descriptionStyle)),l=[];for(var p in this.state.tasks)l.push(o.a.createElement("div",{key:this.state.tasks[p].name},o.a.createElement(S,{mouseUpFix:this.mouseUpFix,openDescription:this.openDescription,completed:this.state.tasks[p].completed,colour:this.state.tasks[p].colour,selected:this.state.tasks[p].selected,selectTask:this.selectTask,listId:this.props.listId,dragOver:this.dragOver,dragging:this.state.dragging,mouse:this.state.mouse,dragStart:this.dragStart,name:this.state.tasks[p].name,id:this.state.tasks[p].id,priority:p})));return o.a.createElement("div",{style:e,ref:s,onMouseMove:this.setMouse,onClick:function(t){return t.stopPropagation()},onMouseUp:this.drop,className:this.props.className},o.a.createElement("span",{style:{position:"absolute"}},o.a.createElement("input",{key:"taskCreationInput",maxLength:40,style:this.inputStyle,onChange:this.inputHandle,value:this.state.input}),o.a.createElement("button",{onClick:this.taskCreate},"create")),o.a.createElement("div",{style:this.ghostDiv}),o.a.createElement("span",{style:this.buttonsStyle},o.a.createElement(O,{symbol:"\u270d",disabled:t,func:this.taskRename,mouseUpFix:this.mouseUpFix,renameUI:this.state.buttonUI.rename}),o.a.createElement(O,{img:"/static/colour.png",checkBox:this.state.checkBox,editViewColour:this.props.editViewColour,className:this.props.className,func:this.colourPalette,mouseUpFix:this.mouseUpFix,update:this.taskColour,updateList:this.props.updateList,listId:this.props.listId,disabled:!0,colourUI:this.state.buttonUI.colour.palette}),o.a.createElement(O,{symbol:"\u2714",func:this.taskComplete,mouseUpFix:this.mouseUpFix,disabled:this.state.buttonUI.check}),o.a.createElement(O,{img:"/static/delete.png",l:"7px",func:this.taskDelete,mouseUpFix:this.mouseUpFix,disabled:this.state.buttonUI.delete})," "),l,o.a.createElement("span",{style:this.descriptionContainer},o.a.createElement("div",{style:r,onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()}},o.a.createElement("span",{style:i},this.state.description.task.name,o.a.createElement("span",{style:this.closeDescriptionStyle,onClick:this.closeDescription},"x")),n,o.a.createElement("textarea",{value:this.state.description.content,maxLength:250,ref:this.textArea,style:this.textAreaStyle,readOnly:this.state.buttonUI.description,onChange:this.changeDescription}),o.a.createElement(O,{symbol:"\u270d",func:this.editDescription,save:this.saveNewDescription,style:{float:"right",margin:"-10px"},disabled:"true",descriptionUI:!this.state.buttonUI.description}))))}}]),s}(a.Component),N=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).styling={display:"block",position:"relative",marginTop:"20px",userSelect:"none",width:"250px",height:"50px",textAlign:"center"},a}return Object(p.a)(s,[{key:"render",value:function(){var t=this,e=this.props.selected?"\u2714":"",s=Object.assign({backgroundColor:this.props.colour},Object(d.a)({},this.styling));return o.a.createElement("div",{style:s,onClick:function(e){return t.props.openNavTab(t.props.name,t.props.colour,t.props.id)}},o.a.createElement(k,{position:"absolute",top:"50%",left:"15px",priority:this.props.id,preventPropogation:function(t){return t.stopPropagation()},select:this.props.selectList,check:e}),o.a.createElement("span",{style:{lineHeight:"50px",pointerEvents:"none"}},this.props.name))}}]),s}(a.Component),E=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).inputHandle=function(t){a.setState({input:t.target.value})},a.listColour=function(t,e){var s=JSON.parse(JSON.stringify(a.state.lists)),o=[],i=t.target.style.backgroundColor,n=[];if(e)n.push({id:e,colour:i}),s[e].colour=i,o.push(s[e].name);else for(var r in s)s[r].selected&&(n.push({id:r,colour:i}),s[r].colour=i,o.push(s[r].name));a.props.update(n,(function(){!function(t){a.setState({lists:t},(function(){return a.props.editViewColour(o,i)}))}(s)}),"lists")},a.colourPalette=function(){var t=JSON.parse(JSON.stringify(a.state.buttonUI));t.colour.palette=!t.colour.palette,a.setState({buttonUI:t})},a.listRename=function(t,e){if(e){var s=[],o=JSON.parse(JSON.stringify(a.state.lists));for(var i in o)if(o[i].selected){s.push({id:i,listName:e}),o[i].name=e;break}a.props.update(s,(function(){!function(t){a.setState({lists:t})}(o)}),"lists")}else{var n=JSON.parse(JSON.stringify(a.state.buttonUI));n.rename=!n.rename,a.setState({buttonUI:n})}},a.listCreate=function(t){for(var e=0,s=Object.values(a.state.lists);e<s.length;e++){if(s[e].name==a.state.input)return}var o=new XMLHttpRequest;o.open("POST","http://localhost:8000/api/lists/"),o.setRequestHeader("content-type","application/json"),o.setRequestHeader("X-CSRFTOKEN",w.a.get("csrftoken")),o.onload=function(){if(201==o.status){var t=JSON.parse(o.response),e=JSON.parse(JSON.stringify(a.state.lists));e[t.id]={name:t.listName,colour:t.colour,selected:!1},a.setState({lists:e,input:""})}},o.send(JSON.stringify({listName:a.state.input}))},a.deleteList=function(){var t=[],e=JSON.parse(JSON.stringify(a.state.lists)),s=JSON.parse(JSON.stringify(a.state.buttonUI));for(var o in e)e[o].selected&&t.push(o);var i=a.state.checkBox-t.length,n=a.selectListCheck(s,i),l=new XMLHttpRequest;l.open("DELETE","http://localhost:8000/api/lists/"),l.setRequestHeader("content-type","application/json"),l.setRequestHeader("X-CSRFTOKEN",w.a.get("csrftoken")),l.onload=function(){if(console.log(l.status),204==l.status){var s,o=Object(r.a)(t);try{for(o.s();!(s=o.n()).done;){var i=s.value;a.props.closeNavTab(null,e[i].name),delete e[i]}}catch(p){o.e(p)}finally{o.f()}a.setState({buttonUI:n.buttonUI,checkBox:n.count,lists:e})}},l.send(JSON.stringify(t))},a.selectListCheck=function(t,e){var s=a.state.buttonUI.colour.palette;if(e>1)var o=!0;if(e>=1)var i=!0,n=!0;0==e&&(s=r=i=!1);var r=!o&&a.state.buttonUI.rename;return{count:e,buttonUI:{rename:r,colour:{colour:n,palette:s},delete:i}}},a.selectList=function(t,e){t.stopPropagation();var s=JSON.parse(JSON.stringify(a.state.lists)),o=JSON.parse(JSON.stringify(a.state.buttonUI));if(s[e].selected)var i=a.state.checkBox-1;else i=a.state.checkBox+1;s[e].selected=!s[e].selected;var n=a.selectListCheck(o,i);a.setState({lists:s,checkBox:n.count,buttonUI:n.buttonUI})},a.closeOptions=function(t){var e=JSON.parse(JSON.stringify(a.state.buttonUI));e.rename=!1,e.colour.palette=!1,a.setState({buttonUI:e})},a.buttonsStyle={left:"305px",position:"absolute",marginTop:"10px",top:"130px"},a.state={lists:{},buttonUI:{rename:!1,colour:{palette:!1,button:!1},delete:!1},listsLoaded:!1,checkBox:0,input:""},a}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var t=this;if(!this.state.listsLoaded){var e=new XMLHttpRequest;e.open("GET","http://localhost:8000/api/lists/"),e.setRequestHeader("content-type","application/json"),e.responseType="json",e.onload=function(){if(200==e.status){var s={};e.response.map((function(t){s[t.id]={name:t.listName,colour:t.colour,selected:!1}})),t.setState({lists:s,tasksLoaded:!0})}},e.send(),this.props.passFunction(this.listColour)}}},{key:"render",value:function(){var t=!0;1!=this.state.checkBox&&(t=!1);var e={margin:"50px",width:"90%",height:"90%"},s="none";this.props.activeView!=this.props.className?e.display="none":s=this.props.reference;var a=[];for(var i in this.state.lists)a.push(o.a.createElement(N,{colour:this.state.lists[i].colour,selectList:this.selectList,selected:this.state.lists[i].selected,openNavTab:this.props.openNavTab,name:this.state.lists[i].name,id:i}));return o.a.createElement("div",{style:e,ref:s,onClick:this.closeOptions,className:this.props.className},o.a.createElement("input",{style:{width:"235px"},maxLength:25,onChange:this.inputHandle,value:this.state.input}),o.a.createElement("button",{onClick:this.listCreate},"create"),a,o.a.createElement("span",{style:this.buttonsStyle},o.a.createElement(O,{symbol:"\u270d",disabled:t,func:this.listRename,renameUI:this.state.buttonUI.rename}),o.a.createElement(O,{img:"/static/colour.png",listView:!0,checkBox:this.state.checkBox,className:this.props.className,func:this.colourPalette,update:this.listColour,disabled:this.state.buttonUI.colour.colour,colourUI:this.state.buttonUI.colour.palette}),o.a.createElement(O,{img:"/static/delete.png",l:"7px",func:this.deleteList,disabled:this.state.buttonUI.delete})," "))}}]),s}(a.Component),U=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).register=function(t){if(a.frontEndRegisterCheck()){var e=new XMLHttpRequest;e.open("POST","http://localhost:8000/register/"),e.setRequestHeader("content-type","application/json"),e.onload=function(){console.log("response:",e.response,"status:",e.status),a.errorHandle(JSON.parse(e.response))},e.send(JSON.stringify({username:a.state.registerUser,password:a.state.registerPass,password2:a.state.registerPass2}))}},a.login=function(){a.frontEndLoginCheck()&&a.props.login(a.state.loginUser,a.state.loginPass,(function(t){return a.errorHandle(t)}))},a.loginUserHandle=function(t){t.target.style.borderColor="none",a.setState({loginUser:t.target.value})},a.loginPassHandle=function(t){t.target.style.borderColor="none",a.setState({loginPass:t.target.value})},a.registerUserHandle=function(t){t.target.style.borderColor="none",a.setState({registerUser:t.target.value})},a.registerPassHandle=function(t){t.target.style.borderColor="none",a.setState({registerPass:t.target.value})},a.registerPass2Handle=function(t){t.target.style.borderColor="none",a.setState({registerPass2:t.target.value})},a.tabClick=function(t){t.target.innerText!=a.state.view&&a.setState({view:t.target.innerText,loginUser:"",loginPass:"",registerUser:"",registerPass:"",registerPass2:"",inputErrors:[]})},a.container={color:"white",display:"grid",position:"absolute",alignItems:"center",justifyItems:"center",margin:"0 auto",top:"50%",left:"50%",transform:"translateY(-50%) translateX(-50%) scale(1.25)",backgroundColor:"#676768",border:"20px solid #676768",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",width:"300px",height:"200px"},a.nav={fontSize:"80%",display:"grid",gridTemplateColumns:"50% 50%",textAlign:"center",position:"absolute",borderTopRightRadius:"20px",borderTopLeftRadius:"20px",top:-35,width:"340px",height:"25px",backgroundColor:"#676768",overflow:"hidden"},a.errorMessage={padding:"3px",whiteSpace:"nowrap",fontSize:"70%",color:"white",left:"270px",position:"absolute",boxShadow:"0px 0px 5px rgba(255,255,255,0.9)",marginTop:"7px",backgroundColor:"#777777",borderRadius:"5px"},a.loginTab={lineHeight:"25px"},a.registerTab={lineHeight:"25px"},a.state={view:"login",loginUser:"",loginPass:"",registerUser:"",registerPass:"",registerPass2:"",inputErrors:[]},a}return Object(p.a)(s,[{key:"errorHandle",value:function(t){var e=[];for(var s in t)e.push(Object(v.a)({},s,t[s]));this.setState({inputErrors:e})}},{key:"frontEndRegisterCheck",value:function(){var t=[],e=this.state;return""==e.registerUser&&t.push({username:"This field should not be empty"}),e.registerPass!=e.registerPass2?(t.push({password:"Password fields do not match"}),t.push({password2:"Password fields do not match"})):(""==e.registerPass&&t.push({password:"This field should not be empty"}),""==e.registerPass2&&t.push({password2:"This field should not be empty"})),this.setState({inputErrors:t}),!t.length}},{key:"frontEndLoginCheck",value:function(){var t=[],e=this.state;return""==e.loginUser&&t.push({username:"This field should not be empty"}),""==e.loginPass&&t.push({password:"This field should not be empty"}),this.setState({inputErrors:t}),!t.length}},{key:"render",value:function(){var t,e,s,a={boxShadow:"none"},i={boxShadow:"none"},n={boxShadow:"none"};if(this.state.inputErrors.length){var l,p=Object(r.a)(this.state.inputErrors);try{for(p.s();!(l=p.n()).done;){var c=l.value;c.username&&(a.boxShadow="0px 0px 5px rgba(255,0,0,0.9)",t=o.a.createElement("span",{style:this.errorMessage},c.username)),c.password&&(i.boxShadow="0px 0px 5px rgba(255,0,0,0.9)",e=o.a.createElement("span",{style:this.errorMessage},c.password)),c.password2&&(n.boxShadow="0px 0px 5px rgba(255,0,0,0.9)",s=o.a.createElement("span",{style:this.errorMessage},c.password2))}}catch(f){p.e(f)}finally{p.f()}}if("login"==this.state.view)var u=this.loginTab,h=Object.assign({backgroundColor:"rgba(255,255,255,0.1)",cursor:"pointer"},Object(d.a)({},this.registerTab)),g=o.a.createElement(o.a.Fragment,null,"Username",o.a.createElement("span",null,o.a.createElement("input",{key:"logUser",style:a,onChange:this.loginUserHandle}),t),"Password",o.a.createElement("span",null,o.a.createElement("input",{key:"logPass",style:i,onChange:this.loginPassHandle,type:"password"}),e),o.a.createElement("button",{onClick:this.login},"login"));else u=Object.assign({backgroundColor:"rgba(255,255,255,0.1)",cursor:"pointer"},Object(d.a)({},this.loginTab)),h=this.registerTab,g=o.a.createElement(o.a.Fragment,null,"Username",o.a.createElement("span",null,o.a.createElement("input",{key:"regUser",style:a,onChange:this.registerUserHandle}),t),"Password",o.a.createElement("span",null,o.a.createElement("input",{key:"regPass",style:i,onChange:this.registerPassHandle,type:"password"}),e),"Confirm Password",o.a.createElement("span",null,o.a.createElement("input",{key:"regPass2",style:n,onChange:this.registerPass2Handle,type:"password"}),s),o.a.createElement("button",{onClick:this.register},"create"));return o.a.createElement("div",{style:this.container},o.a.createElement("div",{style:this.nav},o.a.createElement("span",{onClick:this.tabClick,style:h},"register"),o.a.createElement("span",{onClick:this.tabClick,style:u},"login")),g)}}]),s}(a.Component),j=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).login=function(t,e,s){var o=new XMLHttpRequest;o.open("POST","http://localhost:8000/login/"),o.setRequestHeader("content-type","application/json"),o.onload=function(){console.log(o.response),'"Success"'==o.response?(localStorage.setItem("loggedIn",!0),a.setState({loggedIn:!0})):s(JSON.parse(o.response))},o.send(JSON.stringify({username:t,password:e}))},a.passFunction=function(t){a.setState({func:t})},a.failSafe=function(t){if(t.current)if("Lists"==a.state.activeView)t.current.click();else{var e=document.createEvent("MouseEvents");e.initEvent("mouseup",!0,!0),t.current.dispatchEvent(e)}},a.changeView=function(t,e){a.setState({activeView:t,colour:e})},a.editViewColour=function(t,e){var s=JSON.parse(JSON.stringify(a.state.views)),o=a.state.colour;a.state.activeView==t&&(o=e);var i,n=Object(r.a)(t);try{for(n.s();!(i=n.n()).done;){var l=i.value;s[l]&&(s[l].colourCode=e)}}catch(p){n.e(p)}finally{n.f()}a.setState({views:s,colour:o})},a.openNavTab=function(t,e,s){if(!a.state.views[t]){var o=JSON.parse(JSON.stringify(a.state.views));o[t]={colourCode:e,listId:s},a.setState({views:o})}},a.closeNavTab=function(t,e){if(t){t.stopPropagation();var s=t.target.parentNode.className}else s=e;var o=JSON.parse(JSON.stringify(a.state.views));o[s]&&(delete o[s],a.setState({views:o},(function(){if(a.state.views.length){var t=Object.keys(a.state.views).slice(-1)[0];a.changeView(t,a.state.views[t].colourCode)}else a.changeView("Lists","#079d41")})))},a.update=function(t,e,s){var a=new XMLHttpRequest;a.open("PATCH","http://localhost:8000/api/"+s+"/"),a.setRequestHeader("content-type","application/json"),a.setRequestHeader("X-CSRFTOKEN",w.a.get("csrftoken")),a.onload=function(){206==a.status&&e()},a.send(JSON.stringify(t))},a.activeViewContainer=o.a.createRef(),a.state={views:{},colour:"#079d41",activeView:"Lists",loggedIn:!1,user:{},func:null},a}return Object(p.a)(s,[{key:"componentWillMount",value:function(){document.documentElement.style.height="100%",document.body.style.height="100%",document.getElementById("root").style.height="90%",this.state.loggedIn||"true"!=localStorage.getItem("loggedIn")||this.setState({loggedIn:!0})}},{key:"render",value:function(){var t=this;if(document.body.style.backgroundColor=this.state.colour,this.state.loggedIn){var e=o.a.createElement("a",{style:{color:"black"},onClick:function(){return localStorage.setItem("loggedIn",!1)},href:"http://localhost:8000/logout"},"logout"),s=[];for(var a in this.state.views)s.push(o.a.createElement(C,{className:a,key:a,reference:this.activeViewContainer,listId:this.state.views[a].listId,update:this.update,updateList:this.state.func,activeView:this.state.activeView}));var i=[o.a.createElement(b,{views:this.state.views,closeNavTab:this.closeNavTab,changeView:this.changeView,activeView:this.state.activeView}),o.a.createElement("div",{style:{minHeight:"90%"},id:"views",onClick:function(){return t.failSafe(t.activeViewContainer)}},o.a.createElement(E,{className:"Lists",reference:this.activeViewContainer,update:this.update,closeNavTab:this.closeNavTab,openNavTab:this.openNavTab,editViewColour:this.editViewColour,passFunction:this.passFunction,activeView:this.state.activeView}),s)]}else i=o.a.createElement(U,{login:this.login});return o.a.createElement(o.a.Fragment,null,i,e)}}]),s}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.e607b024.chunk.js.map