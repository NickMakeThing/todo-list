(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(t,e,s){t.exports=s(16)},15:function(t,e,s){},16:function(t,e,s){"use strict";s.r(e);var i=s(0),a=s.n(i),o=s(9),n=s.n(o),r=(s(15),s(6)),l=s(1),p=s(2),c=s(4),u=s(3),d=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).xstyle={fontSize:"90%",color:"black"},i}return Object(p.a)(s,[{key:"render",value:function(){var t=this,e={cursor:"pointer",display:"inline-block",backgroundColor:this.props.colourCode,color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"};if(this.props.activeView!=this.props.className&&(e.filter="brightness(95%)"),this.props.className.length>7)var s=this.props.className.slice(0,5)+"...";else s=this.props.className;return a.a.createElement("div",{className:this.props.className,style:e,onClick:function(e){return t.props.changeView(e.target.className,e.target.style.backgroundColor)}},a.a.createElement("span",{style:this.xstyle,onClick:this.props.closeNavTab},"x"),s)}}]),s}(i.Component),h=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).styling={cursor:"pointer",display:"inline-block",backgroundColor:"#079d41",transitionDuration:"0.5s",color:"white",paddingTop:"5px",paddingBottom:"5px",width:"100px",marginLeft:"10px",horizontalAlign:"middle",textAlign:"center",fontSize:"110%"},i.state={},i}return Object(p.a)(s,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"Lists",style:this.styling,onMouseOver:this.hover,onMouseLeave:this.hoverLeave,onClick:function(e){return t.props.changeView(e.target.className,e.target.style.backgroundColor)}},"Lists")}}]),s}(i.Component),g=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).barStyle={paddingTop:"5px",backgroundColor:"#373737"},i}return Object(p.a)(s,[{key:"render",value:function(){var t=[];for(var e in this.props.views)t.push(a.a.createElement(d,{closeNavTab:this.props.closeNavTab,className:e,colourCode:this.props.views[e].colourCode,changeView:this.props.changeView,activeView:this.props.activeView}));return a.a.createElement("header",{style:this.barStyle},a.a.createElement(h,{changeColour:this.props.changeColour,changeView:this.props.changeView}),t)}}]),s}(i.Component),m=s(7),f=s(5),v=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).styling={color:"white",backgroundColor:"black",display:"inline-block",width:"20px",height:"20px",cursor:"pointer"},i}return Object(p.a)(s,[{key:"render",value:function(){return a.a.createElement("div",{onMouseOver:this.props.buttonFunctions.onMouseOver,onMouseLeave:this.props.buttonFunctions.onMouseLeave,onMouseDown:this.props.buttonFunctions.onMouseDown,onClick:this.props.onClick,style:this.styling},this.props.symbol)}}]),s}(i.Component),b=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){return Object(l.a)(this,s),e.call(this,t)}return Object(p.a)(s,[{key:"render",value:function(){var t=this;return a.a.createElement("span",{onMouseOver:function(t){t.target.style.backgroundColor="rgba(250,250,250,1)"},onMouseLeave:function(t){t.target.style.backgroundColor="rgba(240,240,240,1)"},onMouseDown:this.props.preventPropogation,onMouseUp:this.props.mouseUpFix,onClick:function(e){return t.props.select(e,t.props.priority)},style:{display:"inline-block",userSelect:"none",color:"black",lineHeight:"9px",position:this.props.position,top:this.props.top,transform:"translateY(-50%)",height:"10px",width:"10px",left:this.props.left,border:"1px solid rgba(200,200,200,1)",backgroundColor:"rgba(240,240,240,1)"}},this.props.check)}}]),s}(i.Component),y=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).changeTaskColour=function(t){i.setState({taskColour:t.target.value})},i.preventPropogation=function(t){t.stopPropagation()},i.hover=function(t){i.props.dragging||(t.target.style.textShadow="0px 0px 8px cyan")},i.hoverEnd=function(t){t.target.style.textShadow="none"},i.optionsClick=function(t){"none"==i.state.optionsVisibility?i.setState({optionsVisibility:"inline-block"}):i.setState({optionsVisibility:"none"})},i.descriptionClick=function(t){console.log("description")},i.buttonFunctions={onMouseOver:i.hover,onMouseLeave:i.hoverEnd,onMouseDown:i.preventPropogation},i.defaultStyle={userSelect:"none",width:"250px",height:"50px",textAlign:"center"},i.state={taskColour:i.props.colour},i}return Object(p.a)(s,[{key:"render",value:function(){var t=this,e=this.props.completed?a.a.createElement("s",null,this.props.name):this.props.name,s=this.props.selected?"\u2714":"";if(this.props.dragging&&this.props.dragging.name==this.props.name)var i=Object.assign({pointerEvents:"none",zIndex:1,position:"fixed",top:this.props.mouse.y-25+"px",left:this.props.mouse.x-125+"px",backgroundColor:this.props.colour},this.defaultStyle),o=a.a.createElement("div",{style:{position:"relative",marginTop:"20px",marginLeft:this.props.marginLeft,width:"250px",height:"50px",transform:this.props.size}});else i=Object.assign({marginLeft:this.props.marginLeft,position:"relative",marginTop:"20px",backgroundColor:this.props.colour},this.defaultStyle),o=null;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:i,onClick:function(t){return t.stopPropagation()},onMouseUp:this.props.mouseUpFix,onMouseOver:function(e){return t.props.dragOver(e,t.props.priority)},onMouseDown:function(e){return t.props.dragStart(e,t.props.priority,t.props.name)}},a.a.createElement(b,{position:"absolute",top:"50%",left:"15px",priority:this.props.priority,preventPropogation:this.preventPropogation,select:this.props.selectTask,check:s}),a.a.createElement("span",{style:{position:"absolute",top:"30px",left:"230px",float:"right"}},a.a.createElement(v,{buttonFunctions:this.buttonFunctions,mouseUpFix:this.props.mouseUpFix,onClick:function(e){return t.props.openDescription(e,t.props.priority)},symbol:"?"})),a.a.createElement("span",{style:{lineHeight:"50px"}},e)),o)}}]),s}(i.Component),k=(i.Component,function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).createColour=function(t,e,s){return e=Object.assign({backgroundColor:t},e),a.a.createElement("span",{style:e,onClick:s})},i.ifDisabled=function(t){return i.props.disabled||(t.opacity="0.5",t.pointerEvents="none"),i.props.l&&(t.marginLeft=i.props.l),t},i.changeTab=function(){i.setState({paletteTab:!i.state.paletteTab})},i.buttonStyle={userSelect:"none",display:"block",cursor:"pointer",marginRight:"10px",marginLeft:"10px",marginBottom:"10px"},i.colourStyle={display:"inline-block",margin:"1px",width:"20px",height:"20px",cursor:"pointer",borderRadius:"10px",border:"solid 1px rgba(0,0,0,0.3)",verticalAlign:"middle"},i.paletteStyle={textAlign:"center",float:"right",position:"absolute",marginTop:"-18px",marginLeft:"52px",width:"100px",backgroundColor:"rgba(255,255,255,0.2)",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",padding:"1px"},i.renameStyle={backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderBottom:"solid 2px",width:"100px",position:"absolute",top:"10px",left:"50px"},i.renameButton={position:"absolute",left:"150px",top:"7px"},i.renameContainer={float:"right",marginTop:"-38px",marginLeft:"52px"},i.paletteTabs={lineHeight:"20px",textAlign:"center",fontSize:"80%",width:"51px",height:"20px",backgroundColor:"rgba(255,255,255,0.2)",position:"absolute",top:"-20px"},i.state={value:"",paletteTab:!0},i}return Object(p.a)(s,[{key:"render",value:function(){var t=this;if(this.props.img)var e=this.ifDisabled(Object(f.a)({},this.buttonStyle)),s=a.a.createElement("img",{src:this.props.img,onClick:this.props.func,style:e,width:"40",height:"35"});else{var i=this.ifDisabled(Object.assign({lineHeight:"35px",fontSize:"300%",height:"35px",width:"40px"},Object(f.a)({},this.buttonStyle)));s=a.a.createElement("div",{style:i,onClick:this.props.func},this.props.symbol)}var o=Object(f.a)({},this.paletteStyle);if(this.props.renameUI&&this.props.disabled)var n=a.a.createElement("span",{style:this.renameContainer},a.a.createElement("input",{style:this.renameStyle,onChange:function(e){return t.setState({value:e.target.value})},autoFocus:"true"}),a.a.createElement("button",{style:this.renameButton,onClick:function(e){return t.props.func(e,t.state.value)}},"rename"));else if(this.props.colourUI){var l,p,c=Object.assign({left:0,borderTopLeftRadius:"10px"},Object(f.a)({},this.paletteTabs)),u=Object.assign({right:0,borderTopRightRadius:"10px"},Object(f.a)({},this.paletteTabs)),d=a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{style:c,onClick:l},"Tasks"),a.a.createElement("span",{style:u,onClick:p},"View"));if(this.props.listView||this.state.paletteTab&&this.props.checkBox)if(this.props.listView){(o=Object.assign({borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},o)).marginTop="-38px",d=null;h=["red","#676767","#333399","purple","pink","orange"],g=function(e){return t.props.update(e,0)}}else{u.filter="brightness(70%)",u.cursor="pointer",p=this.changeTab;g=this.props.update,h=["red","#079d41","#333399","purple","pink","orange"]}else{c.filter="brightness(70%)",c.cursor="pointer",l=this.changeTab;var h=["red","#676767","#333399","purple","pink","orange"],g=function(e){return t.props.updateList(e,t.props.listId)}}var m,v=[],b=Object(r.a)(h);try{for(b.s();!(m=b.n()).done;){var y=m.value;v.push(this.createColour(y,this.colourStyle,g))}}catch(k){b.e(k)}finally{b.f()}n=a.a.createElement("span",{style:o},a.a.createElement("span",null,d),a.a.createElement("span",{style:{width:"100px"}},v,a.a.createElement("span",{style:this.colourStyle})))}else if(this.props.descriptionUI)n=a.a.createElement("button",{onClick:this.props.save,style:{position:"absolute",top:"60px",right:"40px"}},"save");else n=null;return a.a.createElement("div",{onMouseUp:this.props.mouseUpFix,onClick:function(t){return t.stopPropagation()}},s,n)}}]),s}(i.Component)),S=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).taskComplete=function(){var t,e=JSON.parse(JSON.stringify(i.state.tasks)),s=[];for(var a in e)e[a].selected&&(t=!e[a].completed,e[a].completed=!e[a].completed,s.push(e[a].id));i.props.update({idArr:s,completed:t},(function(){!function(t){i.setState({tasks:t})}(e)}),"tasks/"+i.props.listId)},i.taskColour=function(t){var e=JSON.parse(JSON.stringify(i.state.tasks)),s=[],a=t.target.style.backgroundColor;for(var o in e)e[o].selected&&(s.push(e[o].id),e[o].colour=t.target.style.backgroundColor);i.props.update({idArr:s,colour:a},(function(){!function(t){i.setState({tasks:t})}(e)}),"tasks/"+i.props.listId)},i.taskRename=function(t,e){if(e){var s=JSON.parse(JSON.stringify(i.state.tasks));for(var a in s)if(s[a].selected){s[a].name=e;var o=[s[a].id];break}i.props.update({idArr:o,taskName:e},(function(){!function(t){i.setState({tasks:t})}(s)}),"tasks/"+i.props.listId)}else{var n=JSON.parse(JSON.stringify(i.state.buttonUI)),r=JSON.parse(JSON.stringify(i.state.description));n.rename=!n.rename,r.showing=!1,i.setState({buttonUI:n,description:r})}},i.inputHandle=function(t){i.setState({input:t.target.value})},i.selectTask=function(t,e){t.stopPropagation();var s=JSON.parse(JSON.stringify(i.state.tasks)),a=JSON.parse(JSON.stringify(i.state.buttonUI));if(s[e].selected)var o=i.state.checkBox-1;else o=i.state.checkBox+1;if(o>1)var n=!0;if(o>=1)var r=!0,l=!0;var p=!n&&i.state.buttonUI.rename;s[e].selected=!s[e].selected;var c=!0;for(var u in s)if(s[u].selected)if(c){var d=s[u].completed;c=!1}else if(s[u].completed!=d){l=!1;break}0==o&&(p=l=r=!1),a={rename:p,colour:i.state.buttonUI.colour,check:l,delete:r,description:i.state.buttonUI.description},i.setState({tasks:s,checkBox:o,buttonUI:a})},i.setMouse=function(t){i.props.activeView==i.props.className&&i.state.dragging&&i.setState({mouse:{x:t.clientX,y:t.clientY}},(function(){if(i.state.draggedOver){var t=i.state.draggedOver.priority,e=i.state.dragging.priority,s=JSON.parse(JSON.stringify(i.state.tasks));if(i.state.mouse.y<i.state.draggedOver.pos&&e>t){delete s[e],s[t]=i.state.tasks[e];for(var a=parseInt(t)+1;a<=e;a++)s[a]=i.state.tasks[a-1];i.setState({tasks:s,dragging:{priority:t,name:i.state.dragging.name}})}else if(i.state.mouse.y>i.state.draggedOver.pos&&e<t){delete s[e],s[t]=i.state.tasks[e];for(var o=t-1;o>=e;o--)s[o]=i.state.tasks[o+1];i.setState({tasks:s,dragging:{priority:t,name:i.state.dragging.name}})}}}))},i.dragStart=function(t,e,s){i.setState({dragging:{priority:e,name:s},mouse:{x:t.clientX,y:t.clientY}})},i.mouseUpFix=function(t){t.stopPropagation(),i.state.dragging&&i.setState({dragging:null,draggedOver:null,mouse:0})},i.drop=function(){i.state.dragging?i.setState({dragging:null,draggedOver:null,mouse:0}):i.closeOptions()},i.dragOver=function(t,e){if(i.state.dragging){var s=t.target.getBoundingClientRect(),a=s.bottom-s.height/2;i.setState({draggedOver:{priority:e,pos:a}})}},i.deleteTask=function(){var t=[],e=[],s=JSON.parse(JSON.stringify(i.state.tasks)),a=JSON.parse(JSON.stringify(i.state.description));for(var o in s)s[o].selected&&(t.push(s[o].id),e.push(o));var n=new XMLHttpRequest;n.open("DELETE","http://localhost:8000/api/tasks/"+i.props.listId+"/"),n.setRequestHeader("content-type","application/json"),n.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),n.onload=function(){if(console.log(n.status),204==n.status){var t,o=Object(r.a)(e);try{for(o.s();!(t=o.n()).done;){var l=t.value;l==i.state.description.task.priority&&(a={showing:!1,task:1,content:"description",modified:!1}),delete s[l]}}catch(p){o.e(p)}finally{o.f()}i.setState({tasks:s,description:a})}},n.send(JSON.stringify(t))},i.taskCreate=function(){for(var t=0,e=Object.values(i.state.tasks);t<e.length;t++){if(e[t].name==i.state.input)return}var s=new XMLHttpRequest;s.open("POST","http://localhost:8000/api/tasks/"+i.props.listId+"/"),s.setRequestHeader("content-type","application/json"),s.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),s.onload=function(){if(201==s.status){var t=JSON.parse(s.response);i.setState({tasks:Object(f.a)(Object(f.a)({},i.state.tasks),{},Object(m.a)({},t.priority,{id:t.id,colour:t.colour,description:"",selected:!1,name:t.taskName})),input:""})}};var a=0;i.state.tasks[0]&&(a=parseInt(Object.keys(i.state.tasks).slice(-1)[0])+1),s.send(JSON.stringify({listId:i.props.listId,taskName:i.state.input,priority:a}))},i.colourPalette=function(){var t=JSON.parse(JSON.stringify(i.state.buttonUI)),e=JSON.parse(JSON.stringify(i.state.description));e.showing=!1,t.colour.palette=!t.colour.palette,i.setState({buttonUI:t,description:e})},i.openDescription=function(t,e){if(i.state.description.showing&&e==i.state.description.task.priority)i.closeDescription();else{var s=JSON.parse(JSON.stringify(i.state.tasks[e])),a=JSON.parse(JSON.stringify(i.state.buttonUI));a.description=!0,a.rename=!1,a.colour.palette=!1,s.priority=e;var o={showing:!0,task:s,content:s.description,modified:!1};i.setState({buttonUI:a,description:o})}},i.closeDescription=function(){var t=JSON.parse(JSON.stringify(i.state.description)),e=JSON.parse(JSON.stringify(i.state.buttonUI));e.description=!0,t.showing=!1,t.modified=!1,t.content=t.task.description,i.setState({buttonUI:e,description:t})},i.editDescription=function(t){var e=JSON.parse(JSON.stringify(i.state.buttonUI));e.description=!e.description,i.setState({buttonUI:e})},i.saveNewDescription=function(t){var e=JSON.parse(JSON.stringify(i.state.description)),s=JSON.parse(JSON.stringify(i.state.buttonUI)),a=JSON.parse(JSON.stringify(i.state.tasks)),o=[e.task.id];e.modified=!1,s.description=!s.description,a[e.task.priority].description=e.content;i.props.update({idArr:o,description:e.content},(function(){!function(t,e,s){i.setState({tasks:t,buttonUI:e,description:s})}(a,s,e)}),"tasks/"+i.props.listId)},i.changeDescription=function(t){var e=JSON.parse(JSON.stringify(i.state.description));e.content=t.target.value,e.modified=!0,i.setState({description:e})},i.closeOptions=function(t){var e=JSON.parse(JSON.stringify(i.state.buttonUI)),s=JSON.parse(JSON.stringify(i.state.description));e.rename=!1,e.colour.palette=!1,s.showing=!1,i.setState({buttonUI:e,description:s})},i.inputStyle={width:"235px",fontSize:"14px",maxWidth:"235px",maxHeight:"32px"},i.buttonsStyle={marginLeft:"255px",position:"absolute",marginTop:"10px"},i.ghostDiv={position:"relative",height:"34px",pointerEvents:"none",marginBottom:"10px"},i.descriptionStyle={position:"absolute",left:"400px",top:"140px",maxWidth:"300px",backgroundColor:"rgba(255,255,255,0.5)",overflow:"hidden"},i.textAreaStyle={color:"rgba(0,0,0,1)",display:"block",border:"none",backgroundColor:"rgba(0,0,0,0)",resize:"none"},i.closeDescriptionStyle={marginTop:"-2px",marginRight:"3px",float:"right",cursor:"pointer",opacity:.3},i.state={tasks:{},tasksLoaded:!1,dragging:null,draggedOver:null,mouse:0,input:"",checkBox:0,buttonUI:{rename:!1,colour:{palette:!1,button:!1},check:!1,delete:!1,description:!0},description:{showing:!1,task:1,content:"description",modified:!1}},i}return Object(p.a)(s,[{key:"componentDidUpdate",value:function(){var t=this;if(this.props.activeView==this.props.className&&!this.state.tasksLoaded){var e=new XMLHttpRequest;e.open("GET","http://localhost:8000/api/tasks/"+this.props.listId),e.setRequestHeader("content-type","application/json"),e.responseType="json",e.onload=function(){if(200==e.status){var s={};e.response.map((function(t){s[t.priority]={id:t.id,colour:t.colour,description:t.description,selected:!1,name:t.taskName,completed:t.completed}})),t.setState({tasks:s,tasksLoaded:!0})}},e.send()}}},{key:"render",value:function(){var t=!0;1!=this.state.checkBox&&(t=!1);var e={margin:"50px",width:"100%",height:"90%"};this.props.activeView!=this.props.className&&(e.display="none");var s="none";if(this.state.description.showing&&(s="block"),this.state.description.task.priority)var i={backgroundColor:this.state.tasks[this.state.description.task.priority].colour};var o=this.state.description.modified?a.a.createElement("span",{style:{color:"red"}},"(modified)"):null,n=Object.assign({display:s},Object(f.a)({},this.descriptionStyle)),r=[];for(var l in this.state.tasks)r.push(a.a.createElement("div",{key:this.state.tasks[l].name},a.a.createElement(y,{mouseUpFix:this.mouseUpFix,openDescription:this.openDescription,completed:this.state.tasks[l].completed,colour:this.state.tasks[l].colour,selected:this.state.tasks[l].selected,selectTask:this.selectTask,listId:this.props.listId,dragOver:this.dragOver,dragging:this.state.dragging,mouse:this.state.mouse,deleteTask:this.deleteTask,dragStart:this.dragStart,name:this.state.tasks[l].name,id:this.state.tasks[l].id,priority:l})));return a.a.createElement("div",{style:e,onMouseMove:this.setMouse,onMouseUp:this.drop,className:this.props.className},a.a.createElement("span",{style:{position:"absolute"}},a.a.createElement("input",{key:"taskCreationInput",style:this.inputStyle,onChange:this.inputHandle,value:this.state.input}),a.a.createElement("button",{onClick:this.taskCreate},"create")),a.a.createElement("div",{style:this.ghostDiv}),a.a.createElement("span",{style:this.buttonsStyle},a.a.createElement(k,{symbol:"\u270d",disabled:t,func:this.taskRename,mouseUpFix:this.mouseUpFix,renameUI:this.state.buttonUI.rename}),a.a.createElement(k,{img:"/static/colour.png",checkBox:this.state.checkBox,editViewColour:this.props.editViewColour,className:this.props.className,func:this.colourPalette,mouseUpFix:this.mouseUpFix,update:this.taskColour,updateList:this.props.updateList,listId:this.props.listId,disabled:!0,colourUI:this.state.buttonUI.colour.palette}),a.a.createElement(k,{symbol:"\u2714",func:this.taskComplete,mouseUpFix:this.mouseUpFix,disabled:this.state.buttonUI.check}),a.a.createElement(k,{img:"/static/delete.png",l:"7px",func:this.deleteTask,mouseUpFix:this.mouseUpFix,disabled:this.state.buttonUI.delete})," "),r,a.a.createElement("div",{style:n,onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()}},a.a.createElement("span",{style:i},this.state.description.task.name,a.a.createElement("span",{style:this.closeDescriptionStyle,onClick:this.closeDescription},"x")),o,a.a.createElement("textarea",{value:this.state.description.content,style:this.textAreaStyle,readOnly:this.state.buttonUI.description,onChange:this.changeDescription}),a.a.createElement(k,{symbol:"\u270d",func:this.editDescription,save:this.saveNewDescription,style:{float:"right",margin:"-10px"},disabled:"true",descriptionUI:!this.state.buttonUI.description})))}}]),s}(i.Component),O=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).styling={display:"block",position:"relative",marginTop:"20px",userSelect:"none",width:"250px",height:"50px",textAlign:"center"},i}return Object(p.a)(s,[{key:"render",value:function(){var t=this,e=this.props.selected?"\u2714":"",s=Object.assign({backgroundColor:this.props.colour},Object(f.a)({},this.styling));return a.a.createElement("div",{style:s,onClick:function(e){return t.props.openNavTab(t.props.name,t.props.colour,t.props.id)}},a.a.createElement(b,{position:"absolute",top:"50%",left:"15px",priority:this.props.id,preventPropogation:function(t){return t.stopPropagation()},select:this.props.selectList,check:e}),a.a.createElement("span",{style:{lineHeight:"50px",pointerEvents:"none"}},this.props.name))}}]),s}(i.Component),x=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).inputHandle=function(t){i.setState({input:t.target.value})},i.selectList=function(t,e){t.stopPropagation();var s,a,o,n,r=JSON.parse(JSON.stringify(i.state.lists)),l=JSON.parse(JSON.stringify(i.state.buttonUI));(s=r[e].selected?i.state.checkBox-1:i.state.checkBox+1)>1&&(n=!0),s>=1&&(o=a=!0);var p=!n&&i.state.buttonUI.rename;r[e].selected=!r[e].selected;var c=!0;for(var u in r)if(r[u].selected)if(c){var d=r[u].completed;c=!1}else if(r[u].completed!=d){break}var h=i.state.buttonUI.colour.palette;0==s&&(h=p=a=!1),l={rename:p,colour:{colour:o,palette:h},delete:a},i.setState({lists:r,checkBox:s,buttonUI:l})},i.listColour=function(t,e){var s=JSON.parse(JSON.stringify(i.state.lists)),a=[],o=[],n=t.target.style.backgroundColor;if(e)a.push(e),o.push(s[e].name),s[e].colour=n;else for(var r in s)s[r].selected&&(a.push(r),o.push(s[r].name),s[r].colour=n);i.props.update({idArr:a,colour:n},(function(){!function(t){i.setState({lists:t},(function(){return i.props.editViewColour(o,n)}))}(s)}),"lists")},i.colourPalette=function(){var t=JSON.parse(JSON.stringify(i.state.buttonUI));t.colour.palette=!t.colour.palette,i.setState({buttonUI:t})},i.listRename=function(t,e){if(e){var s=JSON.parse(JSON.stringify(i.state.lists));for(var a in s)if(s[a].selected){s[a].name=e;var o=[a];break}i.props.update({idArr:o,listName:e},(function(){!function(t){i.setState({lists:t})}(s)}),"lists")}else{var n=JSON.parse(JSON.stringify(i.state.buttonUI));n.rename=!n.rename,i.setState({buttonUI:n})}},i.listCreate=function(t){for(var e=0,s=Object.values(i.state.lists);e<s.length;e++){if(s[e].name==i.state.input)return}var a=new XMLHttpRequest;a.open("POST","http://localhost:8000/api/lists/"),a.setRequestHeader("content-type","application/json"),a.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),a.onload=function(){if(201==a.status){var t=JSON.parse(a.response),e=JSON.parse(JSON.stringify(i.state.lists));e[t.id]={name:t.listName,colour:t.colour,selected:!1},i.setState({lists:e,input:""})}},a.send(JSON.stringify({listName:i.state.input,userid:1}))},i.deleteList=function(){var t=[],e=JSON.parse(JSON.stringify(i.state.lists));for(var s in e)e[s].selected&&t.push(s);var a=new XMLHttpRequest;a.open("DELETE","http://localhost:8000/api/lists/"),a.setRequestHeader("content-type","application/json"),a.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),a.onload=function(){if(console.log(a.status),204==a.status){var s,o=Object(r.a)(t);try{for(o.s();!(s=o.n()).done;){var n=s.value;delete e[n]}}catch(l){o.e(l)}finally{o.f()}i.setState({lists:e})}},a.send(JSON.stringify(t))},i.closeOptions=function(t){var e=JSON.parse(JSON.stringify(i.state.buttonUI));e.rename=!1,e.colour.palette=!1,i.setState({buttonUI:e})},i.buttonsStyle={marginLeft:"255px",position:"absolute",marginTop:"10px",top:"130px"},i.state={lists:{},buttonUI:{rename:!1,colour:{palette:!1,button:!1},delete:!1},listsLoaded:!1,checkBox:0,input:""},i}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var t=this;if(!this.state.listsLoaded){var e=new XMLHttpRequest;e.open("GET","http://localhost:8000/api/lists/"),e.setRequestHeader("content-type","application/json"),e.responseType="json",e.onload=function(){if(200==e.status){var s={};e.response.map((function(t){s[t.id]={name:t.listName,colour:t.colour,selected:!1}})),t.setState({lists:s,tasksLoaded:!0})}},e.send(),this.props.passFunction(this.listColour)}}},{key:"render",value:function(){var t=!0;1!=this.state.checkBox&&(t=!1);var e={margin:"50px",width:"100%",height:"90%"};this.props.activeView!=this.props.className&&(e.display="none");var s=[];for(var i in this.state.lists)s.push(a.a.createElement(O,{colour:this.state.lists[i].colour,selectList:this.selectList,selected:this.state.lists[i].selected,openNavTab:this.props.openNavTab,name:this.state.lists[i].name,id:i}));return a.a.createElement("div",{style:e,onClick:this.closeOptions,className:this.props.className},a.a.createElement("input",{style:{width:"235px"},onChange:this.inputHandle,value:this.state.input}),a.a.createElement("button",{onClick:this.listCreate},"create"),s,a.a.createElement("span",{style:this.buttonsStyle},a.a.createElement(k,{symbol:"\u270d",disabled:t,func:this.listRename,renameUI:this.state.buttonUI.rename}),a.a.createElement(k,{img:"/static/colour.png",listView:!0,checkBox:this.state.checkBox,className:this.props.className,func:this.colourPalette,update:this.listColour,disabled:this.state.buttonUI.colour.colour,colourUI:this.state.buttonUI.colour.palette}),a.a.createElement(k,{img:"/static/delete.png",l:"7px",func:this.deleteList,disabled:this.state.buttonUI.delete})," "))}}]),s}(i.Component),N=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).register=function(){var t=new XMLHttpRequest;t.open("POST","http://localhost:8000/register/"),t.setRequestHeader("content-type","application/json"),t.onload=function(){console.log("loaded: ",t.response,t.status)},console.log(i.state.registerUser,i.state.registerPass),t.send(JSON.stringify({username:i.state.registerUser,password:i.state.registerPass}))},i.loginUserHandle=function(t){i.setState({loginUser:t.target.value},console.log(i.state.loginUser))},i.loginPassHandle=function(t){i.setState({loginPass:t.target.value})},i.registerUserHandle=function(t){i.setState({registerUser:t.target.value})},i.registerPassHandle=function(t){i.setState({registerPass:t.target.value})},i.registerPass2Handle=function(t){i.setState({registerPass2:t.target.value})},i.tabClick=function(t){t.target.innerText!=i.state.view&&i.setState({view:t.target.innerText})},i.container={color:"white",display:"grid",position:"absolute",alignItems:"center",justifyItems:"center",margin:"0 auto",top:"50%",left:"50%",marginTop:"-100px",marginLeft:"-150px",backgroundColor:"#676768",border:"20px solid #676768",borderRadius:"20px",width:"300px",height:"200px"},i.nav={mixBlendMode:"screen",fontSize:"80%",display:"grid",gridTemplateColumns:"50% 50%",textAlign:"center",position:"absolute",top:-20,width:"340px",height:"10px"},i.inactiveTab={cursor:"pointer",backgroundColor:"rgba(255,255,255,0.1)",paddingBottom:"3px"},i.activeTab={opacity:"0.5"},i.state={view:"login",loginUser:"",loginPass:"",registerUser:"",registerPass:"",registerPass2:""},i}return Object(p.a)(s,[{key:"render",value:function(){var t=this;if("login"==this.state.view)var e=this.activeTab,s=this.inactiveTab,i=a.a.createElement(a.a.Fragment,null,"Username",a.a.createElement("input",{key:"logUser",onChange:this.loginUserHandle}),"Password",a.a.createElement("input",{key:"logPass",onChange:this.loginPassHandle,type:"password"}),a.a.createElement("button",{onClick:function(){return t.props.login(t.state.loginUser,t.state.loginPass)}},"login"));else e=this.inactiveTab,s=this.activeTab,i=a.a.createElement(a.a.Fragment,null,"Username",a.a.createElement("input",{key:"regUser",onChange:this.registerUserHandle}),"Password",a.a.createElement("input",{key:"regPass",onChange:this.registerPassHandle,type:"password"}),"Confirm Password",a.a.createElement("input",{key:"regPass2",onChange:this.registerPass2Handle,type:"password"}),a.a.createElement("button",{onClick:this.register},"create"));return a.a.createElement("div",{style:this.container},a.a.createElement("div",{style:this.nav},a.a.createElement("span",{onClick:this.tabClick,style:s},"register"),a.a.createElement("span",{onClick:this.tabClick,style:e},"login")),i)}}]),s}(i.Component),w=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).login=function(t,e){var s=new XMLHttpRequest;s.open("POST","http://localhost:8000/login/"),s.setRequestHeader("content-type","application/json"),s.onload=function(){console.log(s.response),'"Success"'==s.response&&(localStorage.setItem("loggedIn",!0),i.setState({loggedIn:!0}))},s.send(JSON.stringify({username:t,password:e}))},i.passFunction=function(t){i.setState({func:t})},i.changeView=function(t,e){i.setState({activeView:t,colour:e})},i.editViewColour=function(t,e){var s=JSON.parse(JSON.stringify(i.state.views)),a=i.state.colour;i.state.activeView==t&&(a=e);var o,n=Object(r.a)(t);try{for(n.s();!(o=n.n()).done;){var l=o.value;s[l]&&(s[l].colourCode=e)}}catch(p){n.e(p)}finally{n.f()}i.setState({views:s,colour:a})},i.openNavTab=function(t,e,s){if(!i.state.views[t]){var a=JSON.parse(JSON.stringify(i.state.views));a[t]={colourCode:e,listId:s},i.setState({views:a})}},i.closeNavTab=function(t){t.stopPropagation();var e=JSON.parse(JSON.stringify(i.state.views));delete e[t.target.parentNode.className],i.setState({views:e},(function(){if(i.state.views.length){var t=Object.keys(i.state.views).slice(-1)[0];i.changeView(t,i.state.views[t].colourCode)}else i.changeView("Lists","#079d41")}))},i.update=function(t,e,s){var i=new XMLHttpRequest;i.open("PATCH","http://localhost:8000/api/"+s+"/"),i.setRequestHeader("content-type","application/json"),i.setRequestHeader("X-CSRFTOKEN",document.cookie.slice(10)),i.onload=function(){console.log(i.status),206==i.status&&e()},i.send(JSON.stringify(t))},i.state={views:{},colour:"#079d41",activeView:"Lists",loggedIn:!1,user:{},func:null},i}return Object(p.a)(s,[{key:"componentWillMount",value:function(){this.state.loggedIn||"true"!=localStorage.getItem("loggedIn")||this.setState({loggedIn:!0})}},{key:"render",value:function(){if(document.body.style.backgroundColor=this.state.colour,this.state.loggedIn){var t=[];for(var e in this.state.views)t.push(a.a.createElement(S,{className:e,key:e,listId:this.state.views[e].listId,update:this.update,updateList:this.state.func,activeView:this.state.activeView}));var s=[a.a.createElement(g,{views:this.state.views,closeNavTab:this.closeNavTab,changeView:this.changeView,activeView:this.state.activeView}),a.a.createElement("div",{id:"views"},a.a.createElement(x,{className:"Lists",update:this.update,openNavTab:this.openNavTab,editViewColour:this.editViewColour,passFunction:this.passFunction,activeView:this.state.activeView}),t)]}else s=a.a.createElement(N,{login:this.login});return a.a.createElement(a.a.Fragment,null,s,a.a.createElement("a",{onClick:function(){return localStorage.setItem("loggedIn",!1)},href:"http://localhost:8000/logout"},"logout"))}}]),s}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.e037cd91.chunk.js.map