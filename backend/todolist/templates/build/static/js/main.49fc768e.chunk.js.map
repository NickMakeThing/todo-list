{"version":3,"sources":["components/NavTab.js","components/ListsTab.js","components/NavBar.js","components/TaskButton.js","components/CheckBox.js","components/Task.js","components/ViewButton(sidebar).js","components/View.js","components/ListButtons.js","components/ListView.js","components/Registration.js","App.js","serviceWorker.js","index.js"],"names":["NavTab","props","xstyle","fontSize","color","tab","React","createRef","prevProps","size","this","tabPosMod","passRect","current","getBoundingClientRect","right","styling","cursor","display","backgroundColor","colourCode","paddingTop","paddingBottom","width","marginLeft","horizontalAlign","textAlign","activeView","viewName","filter","length","text","slice","ref","key","style","onClick","e","changeView","target","closeNavTab","Component","ListsTab","transitionDuration","left","onMouseOver","hover","onMouseLeave","hoverLeave","NavBar","pos","type","setState","listTabPos","lastTabPos","lastTabClick","stopPropagation","state","windowW","listTabClick","barStyle","userSelect","whiteSpace","scrollStyle","position","zIndex","marginTop","height","lineHeight","views","window","innerWidth","handleResize","bind","WindowSize","event","addEventListener","nextProps","next","Object","keys","thisprops","i","includes","push","splice","indexOf","scrollLeft","scrollRight","assign","tabs","count","func","changeColour","TaskButton","buttonFunctions","onMouseDown","symbol","CheckBox","preventPropogation","onMouseUp","mouseUpFix","select","priority","top","transform","border","check","Task","changeTaskColour","taskColour","value","dragging","textShadow","hoverEnd","optionsClick","optionsVisibility","descriptionClick","console","log","defaultStyle","textStyle","textSpan","colour","wordBreak","scrollWidth","name","innerText","completed","selected","pointerEvents","mouse","y","x","ghostDiv","dragOver","dragStart","selectTask","float","openDescription","ViewButton","customColourHandle","customColour","colourForm","img","customColourForm","colourUI","createColour","ifDisabled","disabled","opacity","l","changeTab","paletteTab","buttonStyle","marginRight","marginBottom","colourStyle","margin","borderRadius","verticalAlign","paletteStyle","borderBottomLeftRadius","borderBottomRightRadius","padding","renameInputStyle","borderBottom","renameButton","webkitMarginBefore","webkitMarginEnd","renameContainer","paletteTabs","chooseColour","button","src","symbolStyle","renameUI","ui","maxLength","onChange","autoFocus","tabLeft","borderTopLeftRadius","tabRight","borderTopRightRadius","listView","colourSet","rightFunc","colourFunc","update","leftFunc","updateList","listId","colours","descriptionUI","save","View","taskComplete","tasks","JSON","parse","stringify","updates","id","set","taskRename","newname","taskName","buttonUI","description","rename","showing","inputHandle","input","selectTaskCheck","removeTag","del","firstCheck","first","delete","checkBox","setMouse","clientX","clientY","draggedOver","parseInt","priorityUpdateInfo","draggedFrom","draggedTo","taskOrderUpdate","fromTo","higher","Math","max","min","drop","closeOptions","box","bottom","fixPriority","idArr","taskDelete","taskIds","taskKeys","task","content","modified","updated","priorityUpdate","xhr","XMLHttpRequest","open","setRequestHeader","Cookies","get","onload","status","send","taskCreate","values","response","colourPalette","palette","closeDescription","editDescription","textArea","focus","saveNewDescription","changeDescription","inputStyle","webkitLogicalWidth","buttonsStyle","webkitLogicalHeight","descriptionContainer","descriptionStyle","overflow","wordWrap","textAreaStyle","resize","outline","closeDescriptionStyle","poisition","tasksLoaded","responseType","map","reference","show","taskLabel","onMouseMove","editViewColour","maxWidth","readOnly","ListButtons","openNavTab","selectList","ListView","listColour","lists","nameArr","listRename","oldname","listName","deleteView","listCreate","deleteList","listIds","selectListCheck","listsLoaded","list","passFunction","buttons","Registration","register","frontEndRegisterCheck","loginTab","click","errorHandle","username","registerUser","password","registerPass","login","frontEndLoginCheck","loginUser","loginPass","loginUserHandle","borderColor","loginPassHandle","registerUserHandle","registerPassHandle","registerPass2Handle","registerPass2","enterPressed","callback","charCode","tabClick","view","inputErrors","container","alignItems","justifyItems","nav","gridTemplateColumns","errorMessage","boxShadow","loginTabStyle","registerTabStyle","password2","errorUsername","errorPassword","errorPassword2","userInputStyle","passInputStyle","pass2InputStyle","loginStyle","registerStyle","onKeyPress","App","localStorage","setItem","loggedIn","failSafe","mouseUp","document","createEvent","initEvent","dispatchEvent","tabname","viewKey","path","activeViewContainer","user","documentElement","body","getElementById","getItem","logout","href","minHeight","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.49fc768e.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\n//user can customize colour of tab and its view in the list view\nexport default class NavTab extends Component {\n\n    constructor(props){\n        super(props)\n        this.tab = React.createRef()\n    }\n\n    xstyle = {\n        fontSize: '90%',\n        color: 'black',\n    }\n    componentDidUpdate(prevProps){\n        if(prevProps.size != this.props.size || prevProps.tabPosMod != this.props.tabPosMod){\n            this.props.passRect(this.tab.current.getBoundingClientRect().right)\n        }\n    }\n    componentDidMount(){\n        this.props.passRect(this.tab.current.getBoundingClientRect().right)\n    }\n    render() {\n        var styling = {\n            cursor: 'pointer',\n            display: 'inline-block',\n            backgroundColor: this.props.colourCode,\n            color: 'white',\n            paddingTop: '5px',\n            paddingBottom: '5px',\n            width: '100px',\n            marginLeft: '10px',\n            horizontalAlign: 'middle',\n            textAlign: 'center',\n            fontSize: '110%',\n        }\n        if (this.props.activeView != this.props.viewName) {\n            styling.filter = 'brightness(95%)' \n        }\n        if (this.props.viewName.length > 7){\n            var text = this.props.viewName.slice(0,5)+'...'\n        } else {\n            var text = this.props.viewName\n        }\n\n        return <div ref={this.tab}\n        key={this.props.viewName+'tab'}\n        style={styling}                             ////v--- this\n        onClick={(e)=>this.props.changeView(this.props.viewName,e.target.style.backgroundColor)}>\n            <span \n            style={this.xstyle}\n            onClick={e=>this.props.closeNavTab(e,null,this.props.viewName)}\n            >x</span>\n            {text}\n        </div>\n    };\n}","import React, { Component } from 'react'\n\n\n//give x to close\nexport default class ListsTab extends Component {\n\n    constructor(props){\n        super(props)\n        this.tab = React.createRef()\n    }\n    componentDidUpdate(prevProps){\n        if(prevProps.tabPosMod != this.props.tabPosMod ){\n            this.props.passRect(this.tab.current.getBoundingClientRect().left,'list')\n        }\n    }\n    styling = {\n        cursor: 'pointer',\n        display: 'inline-block',\n        backgroundColor: '#079d41',\n        transitionDuration: '0.5s',\n        color: 'white',\n        paddingTop: '5px',\n        paddingBottom: '5px',\n        width: '100px',\n        marginLeft: '10px',\n        horizontalAlign: 'middle',\n        textAlign: 'center',\n        fontSize: '110%'\n    }\n    \n    render() {\n        return <div ref={this.tab}\n            viewName='Lists'\n            style={this.styling}\n            onMouseOver={this.hover}\n            onMouseLeave={this.hoverLeave} \n            onClick={(e)=>this.props.changeView(this.props.viewName,e.target.style.backgroundColor)}>\n            Lists\n        </div>\n    };\n}","import React, { Component } from 'react'\nimport NavTab from './NavTab'\nimport ListsTab from './ListsTab'\n\nexport default class NavBar extends Component {\n\n    constructor(props){\n        super(props)\n\n        this.state={\n            views:[],\n            lastTabPos:0,\n            listTabPos:0,\n            tabPosMod:0,\n            windowW:window.innerWidth\n        }\n        this.handleResize = this.handleResize.bind(this)\n    }\n    passRect = (pos,type) => {\n        if (type=='list'){\n            this.setState({\n                listTabPos : pos\n            })\n        } else {\n            this.setState({\n                lastTabPos : pos\n            })\n        }\n    }\n    handleResize(WindowSize, event) {\n        this.setState({windowW: window.innerWidth})\n    }\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.handleResize);\n    }\n    componentWillUnmount() {\n        window.addEventListener(\"resize\", null);\n    }\n    componentWillUpdate(nextProps){\n        var next = Object.keys(nextProps.views).length\n        var thisprops = Object.keys(this.props.views).length\n        var views = [...this.state.views]\n        if (next > thisprops){\n            for (let i in nextProps.views){\n                if (!this.state.views.includes(i)){\n                    views.push(i)\n                }\n            }\n            this.setState({\n                views:views\n            })\n        } else if (next < thisprops) {\n            for (let i of views){\n                if (!Object.keys(nextProps.views).includes(i)){\n                    views.splice(views.indexOf(i),1)\n                }\n            }\n            this.setState({\n                views:views\n            })\n        }\n    }\n    lastTabClick = e =>{\n        e.stopPropagation()\n        if(this.state.lastTabPos>this.state.windowW){//unnecassery? \n            this.setState({\n                tabPosMod:this.state.tabPosMod-50\n            })\n        }\n    }\n    listTabClick = e =>{\n        e.stopPropagation()\n            this.setState({\n                tabPosMod:this.state.tabPosMod+50\n            })\n    }\n    barStyle = {\n        userSelect:'none',\n        paddingTop: '5px',\n        backgroundColor: '#373737',\n        width : '100%',\n        whiteSpace: 'nowrap'\n    }\n    scrollStyle={\n        position:'absolute',\n        zIndex:'1',\n        marginTop:'-5px',\n        textAlign: 'center',\n        height: '36px',\n        width:'20px',\n        lineHeight:'36px',\n        color:'white',\n        backgroundColor:'black'\n    }\n\n    render() {\n        var barStyle = Object.assign({left:this.state.tabPosMod},this.barStyle)\n        var scrollLeft,scrollRight\n        if (this.state.lastTabPos > this.state.windowW){\n            var right = Object.assign({right:0},{...this.scrollStyle})\n            scrollRight=<span style={right} \n                onClick={this.lastTabClick}>\n                ▶\n            </span>\n        }\n        if (this.state.listTabPos < 0) {\n            var left = Object.assign({left:0},{...this.scrollStyle})\n            scrollLeft=<span style={left} \n                onClick={this.listTabClick}>\n                ◀\n            </span>\n        }\n        var tabs=[]\n        var count=0\n        var size=this.state.views.length\n        var func =()=>{return}\n        for (let i of this.state.views) {\n            if(count==size-1){\n                func = this.passRect\n            }\n            if (this.props.views[i]){\n                tabs.push(\n                <NavTab closeNavTab={this.props.closeNavTab} \n                    size={size}\n                    tabPosMod={this.state.tabPosMod}\n                    viewName={i} \n                    passRect={func}\n                    colourCode={this.props.views[i].colourCode}\n                    changeView={this.props.changeView}\n                    activeView={this.props.activeView}/>\n                ) \n            }\n            count++\n        }\n        return (\n            <header style={barStyle}>\n                {scrollLeft}\n                <span style={{marginLeft:this.state.tabPosMod}}>\n                    <ListsTab changeColour={this.props.changeColour}\n                        viewName={'Lists'} \n                        changeView={this.props.changeView}\n                        tabPosMod={this.state.tabPosMod}\n                        passRect={func}/>\n                    {tabs}\n                </span>\n                {scrollRight}\n            </header>\n        )\n    };\n}","import React, { Component } from 'react'\n\nexport default class TaskButton extends Component {\n    constructor(props){\n        super(props)\n    }\n\n    styling = {\n        color : 'white',\n        backgroundColor : 'black',\n        display : 'inline-block',\n        width : '20px',\n        height : '20px',\n        //marginLeft : '2px',\n        cursor : 'pointer',     \n    }\n\n    render () {\n        return <div \n        onMouseOver={this.props.buttonFunctions.onMouseOver}\n        onMouseLeave={this.props.buttonFunctions.onMouseLeave}\n        onMouseDown={this.props.buttonFunctions.onMouseDown}\n        onClick={this.props.onClick}\n        style={this.styling}>{this.props.symbol}</div>\n    }\n}","import React, { Component } from 'react'\n\nexport default class CheckBox extends Component {\n    constructor(props){\n        super(props)\n    }\n\n\n    render() {\n\n        return <span\n        onMouseOver={e=>{\n            e.target.style.backgroundColor='rgba(250,250,250,1)'\n        }}\n        onMouseLeave={e=>{\n            e.target.style.backgroundColor='rgba(240,240,240,1)'\n        }}\n        onMouseDown={this.props.preventPropogation}\n        onMouseUp={this.props.mouseUpFix}\n        onClick={e=>this.props.select(e,this.props.priority)}\n        style={{\n            display : 'inline-block',\n            //tick needs to be moved to the left slightly\n            userSelect : 'none',\n            //cursor : 'pointer',\n            color : 'black',\n            lineHeight : '9px',\n            position : this.props.position,\n            top: this.props.top,\n            transform: 'translateY(-50%)',\n            height : '10px',\n            width : '10px',\n            left : this.props.left,\n            border : '1px solid rgba(200,200,200,1)',\n            backgroundColor : 'rgba(240,240,240,1)'\n        }}>\n            {this.props.check}\n        </span>\n    }\n}","import React, { Component } from 'react'\nimport TaskButton from './TaskButton'\nimport CheckBox from './CheckBox'\n\nexport default class Task extends Component {\n    constructor(props) {\n        super(props)\n        this.textSpan = React.createRef()\n        this.state = {\n            taskColour : this.props.colour,\n            lineHeight : '50px',\n            wordBreak : ''\n        }\n    }\n\n    changeTaskColour = e => {\n        this.setState({\n            taskColour : e.target.value\n        })\n    }\n\n    preventPropogation = e => {\n        e.stopPropagation()\n    }\n\n    hover = e => {\n        if(!this.props.dragging){\n            e.target.style.textShadow = '0px 0px 8px cyan'\n        }\n    }\n    \n    hoverEnd = e => {\n        e.target.style.textShadow = 'none'\n    }\n\n    optionsClick = e => {\n        if (this.state.optionsVisibility == 'none') {\n            this.setState({\n                optionsVisibility : 'inline-block'\n            })\n        } else {\n            this.setState({\n                optionsVisibility : 'none'\n            })\n        }\n    }\n\n    descriptionClick = e => {\n        console.log('description')\n    }\n\n    buttonFunctions = {\n        onMouseOver : this.hover,\n        onMouseLeave : this.hoverEnd,\n        onMouseDown : this.preventPropogation\n    }\n\n    defaultStyle = {\n        userSelect : 'none',\n        width : '250px',\n        height : '50px',\n        textAlign : 'center',\n    }\n    textStyle = {\n        position: 'absolute', \n        left: '30px', \n        width:'200px',\n        fontSize:'90%' \n    }\n    componentDidMount(){\n        if(this.textSpan.current.scrollWidth>200){\n            if (this.props.name.indexOf(' ')>-1){\n                this.setState({\n                    lineHeight:'25px',\n                    wordBreak:'normal'\n                })\n            } else {\n                this.setState({\n                    lineHeight:'25px',\n                    wordBreak:'break-all'\n                })\n            }\n            \n        }\n    }\n    render() {\n        var textStyle = Object.assign({\n            lineHeight : this.state.lineHeight, \n            wordBreak : this.state.wordBreak\n        },{...this.textStyle})\n        if (!this.state.wordBreak){\n            textStyle['whiteSpace'] = 'nowrap'\n        }\n        var innerText = this.props.completed ? <s>{this.props.name}</s> : this.props.name\n        var check = this.props.selected ? '✔' : ''\n        if (this.props.dragging && this.props.dragging.name == this.props.name) {\n            var styling = Object.assign({\n                pointerEvents : 'none',\n                zIndex : 1,\n                position : 'fixed',\n                top : (this.props.mouse.y-25)+'px',\n                left : (this.props.mouse.x-125)+'px',\n                backgroundColor :  this.props.colour,\n            },this.defaultStyle)\n\n            var ghostDiv = <div style={{\n                position : 'relative',\n                marginTop : '20px',\n                marginLeft : this.props.marginLeft,\n                width : '250px',\n                height : '50px',\n                transform : this.props.size\n          }}>\n            </div>\n        } else {\n            var styling = Object.assign({\n                marginLeft : this.props.marginLeft,\n                position : 'relative',\n                marginTop : '20px',               \n                backgroundColor :  this.props.colour,\n            },this.defaultStyle)\n            \n            var ghostDiv = null\n        }    \n        return( \n            <>\n            <div style={styling}\n                onClick={e=>e.stopPropagation()}\n                onMouseUp={this.props.mouseUpFix}\n                onMouseOver={e =>this.props.dragOver(e,this.props.priority)}\n                onMouseDown={e =>this.props.dragStart(e,this.props.priority,this.props.name)}\n            >\n                <CheckBox\n                    position={'absolute'}\n                    top={'50%'}\n                    left={'15px'} \n                    priority={this.props.priority} \n                    preventPropogation={this.preventPropogation}\n                    select={this.props.selectTask}\n                    check={check}/>\n                <span \n                    style={{ \n                    position : 'absolute',\n                    top : '30px',\n                    left : '230px',\n                    float : 'right',                     \n                }}>\n                    <TaskButton\n                        buttonFunctions={this.buttonFunctions}\n                        mouseUpFix={this.props.mouseUpFix}\n                        onClick={e=>this.props.openDescription(e,this.props.priority)}\n                        symbol='?'\n                    />\n                    </span>\n                <div ref={this.textSpan}\n                    style={textStyle}>\n                    {innerText}\n                </div> \n\n            </div> \n            {ghostDiv}\n            </>\n        )\n    }\n}","import React, { Component } from 'react'\n\nexport default class ViewButton extends Component{\n    constructor(props){\n        super(props)\n        this.chooseColour=React.createRef()\n        this.state = {\n            value : '',\n            paletteTab : true,\n            customColour : 'none'\n        }\n    }\n    customColourHandle = e =>{\n        this.setState({\n            customColour : e.target.value\n        })\n    }\n    colourForm=()=>{\n        if (this.props.img != 'colour.png'){return}\n        if (this.state.customColourForm == 'inline' || !this.props.colourUI){\n            var display = 'none'\n        } else if (this.state.customColourForm == 'none'){\n            var display = 'inline'\n        }\n        this.setState({\n            customColourForm : display\n        })\n    }\n    createColour = (colourCode, style, func) => {\n        style=Object.assign({backgroundColor:colourCode},style)\n        return <span style={style} onClick={func}/>\n    }\n    ifDisabled = (style) => {\n        if (!this.props.disabled) {\n            style.opacity = '0.5'\n            style.pointerEvents = 'none'\n        }\n        if (this.props.l){\n            style.marginLeft=this.props.l\n        }\n        return style\n    }\n    changeTab = () => {\n        this.setState({\n            paletteTab : !this.state.paletteTab\n        })\n    }\n\n    buttonStyle = {\n        userSelect : 'none',\n        display : 'block',\n        cursor : 'pointer',\n        marginRight : '10px',\n        marginLeft : '10px',\n        marginBottom : '10px'\n    }\n    colourStyle = {\n        userSelect : 'none',\n        color : 'rgba(0,0,0,0.5)',\n        display : 'inline-block',\n        margin:'1px',\n        width:'20px',\n        height:'20px',\n        cursor:'pointer',\n        borderRadius : '10px',\n        border:'solid 1px rgba(0,0,0,0.3)',\n        verticalAlign: 'middle' \n    }\n    paletteStyle={\n        textAlign : 'center',//hmm\n        float:'right',\n        position:'absolute',\n        marginTop:'-18px',\n        marginLeft:'52px',\n        width:'100px',\n        backgroundColor:'rgba(255,255,255,0.2)',\n        borderBottomLeftRadius : '10px',\n        borderBottomRightRadius : '10px',\n        padding:'1px'\n    }\n    renameInputStyle={\n        backgroundColor : 'rgba(255,255,255,0.2)', \n        border: 'none',\n        borderBottom: 'solid 2px', \n        width: '100px',\n        position:'absolute',\n        left:'50px'\n    }\n    renameButton={\n        position:'absolute',\n        left:'150px',\n        marginLeft:2,\n        marginTop:-3,\n        webkitMarginBefore:-1,\n        webkitMarginEnd:20\n    }\n    renameContainer={\n        float:'right',\n        marginTop:'-38px',\n        marginLeft:'52px'\n    }\n    paletteTabs = {\n        userSelect : 'none',\n        lineHeight : '20px',\n        textAlign : 'center',\n        fontSize : '80%',\n        width : '51px',\n        height : '20px',\n        backgroundColor:'rgba(255,255,255,0.2)',\n        position: 'absolute',\n        top:'-20px',\n    }\n    render(){\n        if (this.props.img) {\n            var buttonStyle = this.ifDisabled({...this.buttonStyle})\n            var button = <img src={this.props.img} \n                            onClick={e=>{this.props.func(e);this.colourForm()}}\n                            style={buttonStyle} \n                            width='40' height='35'/>\n        } else {\n            var symbolStyle = this.ifDisabled((\n                    Object.assign({\n                        lineHeight : '35px',\n                        fontSize:'300%',\n                        height : '35px',\n                        width : '40px'\n                    },{...this.buttonStyle})\n            ))\n            \n            var button = <div style={symbolStyle} \n                            onClick={this.props.func}>\n                            {this.props.symbol}\n                        </div>\n        }\n        var paletteStyle = {...this.paletteStyle}\n        if (this.props.renameUI && this.props.disabled){\n            var ui = (\n                <span style={this.renameContainer}>\n                    <input style={this.renameInputStyle}\n                        maxLength={40}\n                        onChange={e=>this.setState({value:e.target.value})} \n                        autoFocus='true'/>\n                    <button style={this.renameButton}\n                        onClick={(e)=>this.props.func(e,this.state.value)}>\n                        rename\n                    </button>\n                </span>\n            )\n        } else if(this.props.colourUI){\n            var tabLeft = Object.assign({left:0,borderTopLeftRadius:'10px'}, {...this.paletteTabs})\n            var tabRight = Object.assign({right:0,borderTopRightRadius:'10px'}, {...this.paletteTabs})\n            if (!this.props.listView && this.state.paletteTab){//task tab on View\n                tabRight.filter = 'brightness(70%)'\n                tabRight.cursor = 'pointer'\n                var colourSet = ['#333399','purple','#00d6bd','#a90a0a','#079d41','#df7334','#a9993c','pink']\n                var rightFunc = this.changeTab\n                var colourFunc = this.props.update\n            } else if (!this.props.listView && !this.state.paletteTab){\n                tabLeft.filter = 'brightness(70%)'//view tab on View\n                tabLeft.cursor = 'pointer'\n                var colourSet = ['#333399','purple','#00d6bd','#a90a0a','#40cc3e','#df7334','#a9993c','pink']\n                var leftFunc = this.changeTab\n                var colourFunc = (e)=>this.props.updateList(e,this.props.listId)\n            \n            } else if (this.props.listView) { //palette on ListView\n                paletteStyle = Object.assign({borderTopLeftRadius:'10px', borderTopRightRadius:'10px'}, paletteStyle)\n                paletteStyle.marginTop='-38px'\n                var colourSet = ['#333399','purple','#00d6bd','#a90a0a','#40cc3e','#df7334','#a9993c','pink']\n                var colourFunc = (e)=>this.props.update(e)\n            }\n            var tabs = this.props.listView ? null : <>\n                <span style={tabLeft} onClick={leftFunc}>Tasks</span>\n                <span style={tabRight} onClick={rightFunc}>View</span></>\n            var colours = []\n            for (let i of colourSet){\n                colours.push(this.createColour(i,this.colourStyle, colourFunc))\n            }\n            var ui = (\n                <span style={paletteStyle}>\n                    <span>\n                        {tabs}\n                    </span>\n                    <span style={{width:'100px'}}>\n                        {colours}\n                       {/*option to add custom colour. works, but looked horrible. \n                        <span style={this.colourStyle} onClick={this.colourForm}>+\n                            <div style={{display:this.state.customColourForm}}>\n                                <button onClick={e=>{e.stopPropagation();this.chooseColour.current.click()}}>\n                                    Choose\n                                </button>\n                                <input type='color'\n                                    style={{display:'none'}}\n                                    onClick={e=>e.stopPropagation()}\n                                    onChange={this.customColourHandle}/>\n                                <button style={{backgroundColor : this.state.customColour}}\n                                    onClick={colourFunc}>Submit</button>\n                            </div>\n                        </span>*/}\n                    </span>\n                </span>\n            )\n        } else if (this.props.descriptionUI){\n            var ui = <button onClick={this.props.save} style={{position:'absolute',top:5,left:-68}}>save</button>\n\n        } else {\n            var ui = null\n        }\n    return (\n        <div style={this.props.style}//for description button\n            onMouseUp={this.props.mouseUpFix}\n            onClick={e=>e.stopPropagation()}>\n            <div>\n                {button}\n                {ui}\n            </div>\n        </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport Task from './Task'\nimport ViewButton_s from './ViewButton(sidebar)'\nimport Cookies from 'js-cookie'\n\nexport default class View extends Component {\n    constructor(props){\n        super(props)\n        this.textArea=React.createRef()\n        this.state = {\n            tasks : {},\n            tasksLoaded : false,\n            dragging : null,\n            draggedOver : null,\n            mouse : 0,\n            input : '',\n            checkBox : 0, \n            buttonUI : {rename: false, colour: {palette : false, button : false}, check: false, delete : false, description : true},\n            description : {showing : false, task : 1, content : 'description', modified : false},\n            priorityUpdateInfo : { draggedFrom : 0, draggedTo : 0}\n        }\n    }\n    taskComplete = () => {\n        var tasks =  JSON.parse(JSON.stringify(this.state.tasks))\n        var updates = []\n        for (let i in tasks){\n            if (tasks[i].selected){\n                updates.push({id:tasks[i].id,completed:!tasks[i].completed})\n                tasks[i].completed=!tasks[i].completed \n            }\n        }\n        var set = (tasks) => {\n            this.setState({\n                tasks : tasks\n            })    \n        }\n        this.props.update(updates,()=>{set(tasks)},'tasks/'+this.props.listId)\n    }\n    taskColour = e => {\n        var tasks = JSON.parse(JSON.stringify(this.state.tasks))\n        var colour = e.target.style.backgroundColor\n        var updates = []\n        for (let i in tasks){\n            if (tasks[i].selected){\n                updates.push({id:tasks[i].id,colour:colour})\n                tasks[i].colour=colour \n            }\n        }\n        var set = (tasks) => {\n            this.setState({\n                tasks : tasks\n            })    \n        }\n        this.props.update(updates,()=>{set(tasks)},'tasks/'+this.props.listId)\n    }\n    taskRename = (e, newname) => {\n        if(newname){\n            var tasks =  JSON.parse(JSON.stringify(this.state.tasks))\n            var updates = []\n            for (let i in tasks){\n                if (tasks[i].selected){\n                    updates.push({id:tasks[i].id,taskName:newname})\n                    tasks[i].name=newname\n                    break\n                }\n            }\n            var set = (tasks) => {\n                this.setState({\n                    tasks : tasks\n                })    \n            }\n            this.props.update(updates,()=>{set(tasks)},'tasks/'+this.props.listId)\n        } else {\n            var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n            var description = JSON.parse(JSON.stringify(this.state.description))\n            buttonUI.rename = !buttonUI.rename\n            description.showing = false\n            this.setState({\n                buttonUI : buttonUI,\n                description : description\n            })\n        }\n    }\n    inputHandle = e => {\n        this.setState({\n            input : e.target.value\n        })\n    }\n    selectTaskCheck = (tasks,buttonUI,count) => {\n        if (count>1){\n            var removeTag = true\n        }\n        if (count>=1){\n            var del = true\n            var check = true\n        }\n        var rename = removeTag ? false : this.state.buttonUI.rename\n        var firstCheck = true\n        for (let i in tasks){\n            if (tasks[i].selected){\n                if (firstCheck) {\n                    var first = tasks[i].completed\n                    firstCheck = false\n                } else {\n                    if (tasks[i].completed!=first){\n                        var check = false\n                        break\n                    }\n                }\n            }\n        } \n        if (count == 0) {\n            rename = check = del = false \n        }\n        buttonUI = {\n            rename: rename, \n            colour: this.state.buttonUI.colour, \n            check: check, \n            delete : del,\n            description : this.state.buttonUI.description\n        }\n        return {tasks : tasks, count : count, buttonUI : buttonUI}\n    }\n    selectTask = (e,priority) => {\n        e.stopPropagation()\n        var tasks =     JSON.parse(JSON.stringify(this.state.tasks))\n        var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n        if (tasks[priority].selected){\n            var count = this.state.checkBox-1\n        } else {\n            var count = this.state.checkBox+1\n        }\n        tasks[priority].selected = !tasks[priority].selected\n        var state = this.selectTaskCheck(tasks,buttonUI,count)\n        this.setState({\n            tasks : state.tasks,\n            checkBox : state.count,\n            buttonUI : state.buttonUI\n        })\n    }\n    setMouse = e => {\n        if(this.props.activeView == this.props.viewName && this.state.dragging){\n            this.setState({\n                mouse : {x : e.clientX, y : e.clientY}\n            },()=>{\n                if (this.state.draggedOver){\n                    var draggedOver = this.state.draggedOver.priority\n                    var dragging = this.state.dragging.priority\n                    var tasks= JSON.parse(JSON.stringify(this.state.tasks))\n    \n                    if (this.state.mouse.y < this.state.draggedOver.pos && dragging>draggedOver){\n                        delete tasks[dragging]\n                        tasks[draggedOver]=this.state.tasks[dragging]\n                        for(let i=parseInt(draggedOver)+1; i<=dragging; i++){\n                            tasks[i]=this.state.tasks[i-1]\n                        }\n                        this.setState({\n                            tasks : tasks,\n                            dragging : {priority : draggedOver, name : this.state.dragging.name},\n                            priorityUpdateInfo : {draggedFrom : this.state.priorityUpdateInfo.draggedFrom, draggedTo : draggedOver}\n                        })\n                    } else if (this.state.mouse.y > this.state.draggedOver.pos && dragging<draggedOver){ \n                        delete tasks[dragging]\n                        tasks[draggedOver]=this.state.tasks[dragging]\n                        for(let i=draggedOver-1; i>=dragging; i--){\n                            tasks[i]=this.state.tasks[i+1]\n                        }\n                        this.setState({\n                            tasks : tasks,\n                            dragging : {priority : draggedOver, name : this.state.dragging.name},\n                            priorityUpdateInfo : {draggedFrom : this.state.priorityUpdateInfo.draggedFrom, draggedTo : draggedOver}\n                        })\n                    }   \n                }\n            })\n        }\n    }\n    dragStart = (e,priority,name) => {\n        this.setState ({\n            dragging : {priority,name},\n            mouse : {x : e.clientX, y : e.clientY},\n            priorityUpdateInfo : {draggedFrom : priority, draggedTo : priority}\n        })\n    }\n    mouseUpFix = e =>{\n        e.stopPropagation()\n        if(this.state.dragging){\n            this.setState({\n                dragging : null,\n                draggedOver : null,\n                mouse : 0\n            }) \n        }\n    }\n    taskOrderUpdate = () => {\n        var fromTo = JSON.parse(JSON.stringify(this.state.priorityUpdateInfo))\n        var tasks = JSON.parse(JSON.stringify(this.state.tasks))\n        if (fromTo.draggedFrom==fromTo.draggedTo) {\n            return\n        }\n        var higher = Math.max(fromTo.draggedFrom,fromTo.draggedTo)\n        var lower = Math.min(fromTo.draggedFrom,fromTo.draggedTo)\n        var updates = []\n        for (let i=lower;i<=higher;i++){\n            updates.push({id:tasks[i].id,priority:i})\n        }\n        this.props.update(updates,()=>null,'tasks/'+this.props.listId)\n    }\n    drop = e => {\n        if(!this.state.dragging){\n            this.closeOptions()\n        } else {\n            this.taskOrderUpdate()\n            this.setState({\n                dragging : null,\n                draggedOver : null,\n                mouse : 0,\n                priorityUpdateInfo : { draggedFrom : 0, draggedTo : 0}\n            })  \n        }\n    }\n    dragOver = (e,priority) => {\n        if(this.state.dragging){\n            var box = e.target.getBoundingClientRect()\n            var pos = box.bottom - box.height/2\n            this.setState({\n                draggedOver: {priority : priority, pos : pos}\n            })\n        }\n    }    \n    fixPriority = tasks => {\n        var count = 0\n        var priority = {} \n        var idArr = []\n        for(let i in tasks){\n            if (i!=count){\n                tasks[count]=tasks[i]\n                delete tasks[i]\n                idArr.push(tasks[count].id)\n                priority[tasks[count].id]=count\n            }\n            count++\n        }\n        return { tasks : tasks, idArr : idArr, priority: priority}\n    }\n    taskDelete = ()=> {\n        var taskIds = []\n        var taskKeys = []\n        var tasks =  JSON.parse(JSON.stringify(this.state.tasks))\n        var description = JSON.parse(JSON.stringify(this.state.description))\n        for (let i in tasks){\n            if (tasks[i].selected){\n                taskIds.push(tasks[i].id)\n                taskKeys.push(i)\n            }\n        }\n        var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n        var count = this.state.checkBox-taskKeys.length\n        for (let i of taskKeys){\n            if(i == this.state.description.task.priority){\n                description = {showing : false, task : 1, content : 'description', modified : false}\n            }\n            delete tasks[i]\n        }\n        var updated = this.fixPriority(tasks)\n        tasks = updated.tasks\n        var state = this.selectTaskCheck(tasks,buttonUI,count)\n        var priorityUpdate = []\n        for (let i in updated.priority){\n            priorityUpdate.push({id:i,priority:updated.priority[i]})\n        }\n        var xhr = new XMLHttpRequest()\n        xhr.open('DELETE','/api/tasks/'+this.props.listId+'/')\n        xhr.setRequestHeader('content-type','application/json')\n        xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n        xhr.onload = () => {\n            if (xhr.status == 204){\n                this.setState({\n                    tasks: state.tasks,\n                    checkBox: state.count,\n                    buttonUI: state.buttonUI,\n                    description: description\n                })\n            } \n        }\n        xhr.send(JSON.stringify({delete:taskIds, update:priorityUpdate}))\n    } \n    taskCreate = () => { //remember to takeout cors middleware\n        for (let i of Object.values(this.state.tasks)) {\n            if (i.name==this.state.input) {return}\n        }\n        var xhr = new XMLHttpRequest()\n        xhr.open('POST','/api/tasks/'+this.props.listId+'/')\n        xhr.setRequestHeader('content-type','application/json')\n        xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n        xhr.onload = () => {\n            if (xhr.status == 201){\n                var response = JSON.parse(xhr.response)\n                this.setState({\n                    tasks : { ...this.state.tasks, [response.priority] : {id : response.id, colour : response.colour, description : '', selected : false, name : response.taskName}},\n                    input : ''\n                })\n            }\n        }\n        var priority=0\n        if (this.state.tasks['0']){\n            priority=parseInt(Object.keys(this.state.tasks).slice(-1)[0])+1//pop\n        }\n        xhr.send(JSON.stringify({listId : this.props.listId, taskName : this.state.input, priority : priority}))\n    }\n    colourPalette = () => {\n        var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n        var description = JSON.parse(JSON.stringify(this.state.description))\n        description.showing = false\n            buttonUI.colour.palette = !buttonUI.colour.palette\n            this.setState({\n                buttonUI : buttonUI,\n                description : description\n            })\n    }\n    openDescription = (e,priority) =>{\n        if(this.state.description.showing && priority == this.state.description.task.priority){\n            this.closeDescription()\n            return\n        }\n        var task = JSON.parse(JSON.stringify(this.state.tasks[priority]))\n        var buttonUI = JSON.parse(JSON.stringify(this.state.buttonUI))\n        buttonUI.description = true\n        buttonUI.rename = false\n        buttonUI.colour.palette = false\n        task.priority = priority\n        var description = {\n            showing : true,\n            task : task,\n            content : task.description,\n            modified : false\n        }\n        this.setState({\n            buttonUI : buttonUI,\n            description : description\n        })\n    }\n    closeDescription = () => {\n        var description = JSON.parse(JSON.stringify(this.state.description))\n        var buttonUI = JSON.parse(JSON.stringify(this.state.buttonUI))\n        buttonUI.description = true\n        description.showing = false\n        description.modified = false\n        description.content = description.task.description\n        this.setState({\n            buttonUI : buttonUI,\n            description : description\n        })\n    }\n    editDescription = e =>{\n        this.textArea.current.focus()\n        var buttonUI = JSON.parse(JSON.stringify(this.state.buttonUI))\n        buttonUI.description = !buttonUI.description\n        this.setState({\n            buttonUI : buttonUI\n        })\n    }\n    saveNewDescription = e =>{\n        var description = JSON.parse(JSON.stringify(this.state.description))\n        var buttonUI = JSON.parse(JSON.stringify(this.state.buttonUI))\n        var tasks = JSON.parse(JSON.stringify(this.state.tasks))\n        var update = [{\n            id:description.task.id,\n            description:description.content\n        }]\n        description.modified = false\n        buttonUI.description = !buttonUI.description\n        tasks[description.task.priority].description=description.content\n        var set = (tasks,buttonUI,description) => {\n            this.setState({\n                tasks : tasks,\n                buttonUI : buttonUI,\n                description : description\n            })\n        }\n        this.props.update(update,()=>{set(tasks,buttonUI,description)},'tasks/'+this.props.listId)\n    }\n    changeDescription = e =>{\n        var description = JSON.parse(JSON.stringify(this.state.description))\n        description.content = e.target.value\n        description.modified = true\n        this.setState({\n            description : description\n        })\n    }\n    closeOptions = e =>{\n        var buttonUI = JSON.parse(JSON.stringify(this.state.buttonUI))\n        var description = JSON.parse(JSON.stringify(this.state.description))\n        buttonUI.rename = false\n        buttonUI.colour.palette = false\n        description.showing = false\n        this.setState({\n            buttonUI : buttonUI,\n            description : description\n        })\n    }\n    componentDidUpdate(){\n        if (this.props.activeView == this.props.viewName && !this.state.tasksLoaded) {\n            let xhr = new XMLHttpRequest()\n            xhr.open('GET','/api/tasks/'+this.props.listId)\n            xhr.setRequestHeader('content-type','application/json')\n            xhr.responseType = 'json'\n            xhr.onload = () => {\n                if (xhr.status == 200) {\n                    let tasks = {}\n                    xhr.response.map(task => {\n                        tasks[task.priority]={\n                            id : task.id, \n                            colour : task.colour, \n                            description : task.description, \n                            selected : false, \n                            name : task.taskName,\n                            completed : task.completed\n                        }\n                    })\n                    this.setState({\n                        tasks : tasks,\n                        tasksLoaded : true,\n                    })\n                }\n            }\n            xhr.send()\n        }\n    }\n    inputStyle = {\n        width:'235px',\n        webkitLogicalWidth : '242px',\n        fontSize: '14px', \n    }\n    buttonsStyle = {\n        marginLeft : '255px', \n        position : 'absolute', \n        marginTop : '10px'\n    }\n    ghostDiv = {\n        position: 'relative', \n        height : '34px', \n        webkitLogicalHeight : '22px',\n        pointerEvents : 'none', \n        marginBottom:'10px'\n    }\n    descriptionContainer = {\n        position: 'absolute',\n        left: '400px',\n        top:'140px', \n        height:'100%'\n    }\n    descriptionStyle = {\n        position:'sticky',\n        top:0,\n        left:0,\n        width:210,\n        height : '160px',\n        backgroundColor: 'rgba(255,255,255,0.5)',\n        overflow:'hidden',\n        wordWrap:'break-word'\n    }\n    textAreaStyle = {\n        color : 'rgba(0,0,0,1)',\n        display : 'block',\n        border : 'none',\n        backgroundColor : 'rgba(0,0,0,0)',\n        resize : 'none',\n        outline : 'none',\n        height : 55\n    }\n    closeDescriptionStyle = {\n        poisition: 'absolute',\n        top:0,\n        float:'right', \n        marginTop:'-2px',\n        marginRight:'3px',\n        marginLeft:'3px',\n        cursor:'pointer', \n        opacity:0.3\n    }\n    render(){ \n        var disabled = true\n        if (this.state.checkBox!=1) {\n                disabled = false\n        }\n        var styling = {margin : '50px', width: '90%', height:'90%'}\n        var ref = 'none'\n        if (this.props.activeView != this.props.viewName) {\n            styling.display = 'none'\n        } else {\n            ref=this.props.reference\n        }\n        var show = 'none'\n        if (this.state.description.showing){\n            show = 'block'\n        }\n        if (this.state.description.task.priority){\n            var taskLabel = { \n                backgroundColor : this.state.description.task.colour,\n            }\n        }\n        var descriptionStyle = Object.assign({display : show},{...this.descriptionStyle})\n        var modified = this.state.description.modified ? <span style={{color:'red'}}>(modified)</span> : null\n        var tasks=[]\n        for (let i in this.state.tasks){\n            tasks.push(    \n                <div key={this.state.tasks[i].name}>\n                    <Task  \n                        mouseUpFix={this.mouseUpFix}\n                        openDescription={this.openDescription}\n                        completed={this.state.tasks[i].completed}\n                        colour={this.state.tasks[i].colour}\n                        selected={this.state.tasks[i].selected}\n                        selectTask={this.selectTask}\n                        listId={this.props.listId}\n                        dragOver={this.dragOver}\n                        dragging={this.state.dragging}\n                        mouse={this.state.mouse}\n                        dragStart={this.dragStart}\n                        name={this.state.tasks[i].name}\n                        id={this.state.tasks[i].id}\n                        priority={i}\n                    /> \n                </div>\n            ) \n        }\n        return (\n            <div style={styling} ref={ref}\n                onMouseMove={this.setMouse} \n                onClick={e=>e.stopPropagation()}\n                onMouseUp={this.drop} >\n                <span style={{position : 'absolute'}}> \n                    <input key=\"taskCreationInput\" \n                        maxLength={40}\n                        style={this.inputStyle}\n                        onChange={this.inputHandle} \n                        value={this.state.input}/>\n                    <button onClick={this.taskCreate}>create</button>\n                </span>\n                <div style={this.ghostDiv}/>\n                <span style={this.buttonsStyle}>\n                    <ViewButton_s symbol={'✔'} \n                        func={this.taskComplete} \n                        mouseUpFix={this.mouseUpFix}\n                        disabled={this.state.buttonUI.check}/> \n                    <ViewButton_s img={'/static/colour.png'} \n                        checkBox={this.state.checkBox}\n                        editViewColour={this.props.editViewColour} \n                        func={this.colourPalette} \n                        mouseUpFix={this.mouseUpFix}\n                        update={this.taskColour} \n                        updateList={this.props.updateList}\n                        listId={this.props.listId}\n                        disabled={true}\n                        colourUI={this.state.buttonUI.colour.palette}/>\n                    <ViewButton_s img={'/static/delete.png'} l='7px' \n                        func={this.taskDelete} \n                        mouseUpFix={this.mouseUpFix}\n                        disabled={this.state.buttonUI.delete}/> {/* need better trash icon */}\n                    <ViewButton_s symbol={'✎'} disabled={disabled} \n                        func={this.taskRename} \n                        mouseUpFix={this.mouseUpFix}\n                        renameUI={this.state.buttonUI.rename}/>    \n                </span>\n                    {tasks}\n                <span style={this.descriptionContainer}>    \n                    <div style={descriptionStyle} onClick={e=>e.stopPropagation()} onMouseUp={e=>e.stopPropagation()}>\n                        <span style={this.closeDescriptionStyle} \n                            onClick={this.closeDescription}>\n                            x\n                        </span>\n                        <div style={{maxWidth:195}}>\n                            <span style={taskLabel}>\n                                {this.state.description.task.name}\n                            </span>\n                        </div>\n                        {modified}\n                        <textarea value={this.state.description.content} \n                            maxLength={250}\n                            ref={this.textArea}\n                            style={this.textAreaStyle} \n                            readOnly={this.state.buttonUI.description}\n                            onChange={this.changeDescription}/>           \n                        <ViewButton_s symbol={'✎'} \n                            func={this.editDescription} \n                            save={this.saveNewDescription}\n                            style={{\n                                float:'right', \n                                margin:'-10px', \n                                position: 'absolute',\n                                bottom: 0,\n                                right: 0,\n                            }}\n                            disabled={'true'} \n                            descriptionUI={!this.state.buttonUI.description}/>\n                    </div>\n                </span>\n            </div>\n        )//tick, editname, delete, colour\n    } \n}\n","import React, { Component } from 'react'\nimport CheckBox from './CheckBox'\n\nexport default class ListButtons extends Component {\n    constructor(props) {\n        super(props)\n    }\n//animation when tab is created to show where it is\n//queue animation: when oppened or is already opened, \n\n    styling = {\n        cursor : 'pointer',\n        display : 'block',\n        position : 'relative',\n        marginTop : '20px',\n        userSelect: 'none',\n        width : '250px',\n        height : '50px',\n        textAlign : 'center',\n    }\n\n    render() {\n        var check = this.props.selected ? '✔' : ''      \n        var styling = Object.assign({backgroundColor : this.props.colour},{...this.styling})\n        return (\n            <div style={styling} \n                onClick={(e)=>this.props.openNavTab(this.props.name,this.props.colour,this.props.id)}>\n                <CheckBox\n                    position={'absolute'}\n                    top={'50%'}\n                    left={'15px'} \n                    priority={this.props.id}\n                    preventPropogation={e=>e.stopPropagation()}\n                    select={this.props.selectList}\n                    check={check}/>\n                <span style={{lineHeight : '50px', pointerEvents : 'none'}}>{this.props.name}</span>\n            </div>\n        )//priority={this.props.priority}\n    }\n}","import React, { Component } from 'react'\nimport ListButtons from './ListButtons'\nimport ViewButton_s from './ViewButton(sidebar)'\nimport Cookies from 'js-cookie'\nexport default class ListView extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            lists : {},\n            buttonUI : {rename: false, colour: {palette : false, button : false},delete : false},\n            listsLoaded : false,\n            checkBox : 0,\n            input : '',\n            \n        }\n    }\n    inputHandle = e => {\n        this.setState({\n            input : e.target.value\n        })\n    }\n    listColour = (e,id) => {\n        var lists = JSON.parse(JSON.stringify(this.state.lists))\n        var nameArr = []\n        var colour = e.target.style.backgroundColor\n\n        var updates =[]\n        if(id){\n            updates.push({id:id,colour:colour})\n            lists[id].colour = colour\n            nameArr.push(lists[id].name)\n        } else {\n            for (let i in lists){\n                if (lists[i].selected){\n                    updates.push({id:i,colour:colour})\n                    lists[i].colour=colour\n                    nameArr.push(lists[i].name)\n                }\n            }\n        }\n        var set = (lists) => {\n            this.setState({\n                lists : lists\n            },()=>this.props.editViewColour(nameArr,colour))    \n        }\n        this.props.update(updates,()=>{set(lists)},'lists')\n    }\n    colourPalette = () => {\n        var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n            buttonUI.colour.palette = !buttonUI.colour.palette\n            this.setState({\n                buttonUI : buttonUI\n            })\n    }\n    listRename = (e, newname) => {\n        if(newname){\n            var updates = []\n            var lists =  JSON.parse(JSON.stringify(this.state.lists))\n            for (let i in lists){\n                if (lists[i].selected){\n                    var oldname = lists[i].name\n                    var colour = lists[i].colour\n                    updates.push({id:i,listName:newname})\n                    lists[i].name=newname\n                    break\n                }\n            }\n            var set = (lists) => {\n                this.setState({\n                    lists : lists\n                })    \n            }\n            this.props.update(updates,()=>{\n                set(lists,oldname,newname)\n                if (this.props.deleteView(oldname,newname)){\n                    this.props.openNavTab(newname,colour,updates.id)\n                }\n            }, 'lists')\n        } else {\n            var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n            buttonUI.rename = !buttonUI.rename\n            this.setState({\n                buttonUI : buttonUI,\n            })\n        }\n    }\n    listCreate = e => {\n        for (let i of Object.values(this.state.lists)) {\n            if (i.name==this.state.input) {return}\n        }\n        //if (!this.state.lists(list => list.name == value) && /\\S/.test(value))\n            var xhr = new XMLHttpRequest()\n            xhr.open('POST','/api/lists/')\n            xhr.setRequestHeader('content-type','application/json')\n            xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n            xhr.onload = () => {\n                if (xhr.status == 201){\n                    var response = JSON.parse(xhr.response)\n                    var lists = JSON.parse(JSON.stringify(this.state.lists))\n                    lists[response.id]={                            \n                        name : response.listName,\n                        colour : response.colour,\n                        selected : false\n                    }\n                    this.setState({\n                        lists : lists,\n                        input : ''\n                    })\n                }\n            }\n            xhr.send(JSON.stringify({listName : this.state.input}))\n    }\n    deleteList = ()=> {\n        var listIds = []\n        var lists =  JSON.parse(JSON.stringify(this.state.lists))\n        var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n        for (let i in lists){\n            if (lists[i].selected){\n                listIds.push(i)\n            }\n        }\n        var count = this.state.checkBox-listIds.length\n        var state = this.selectListCheck(buttonUI,count)\n        var xhr = new XMLHttpRequest()\n        xhr.open('DELETE','/api/lists/')\n        xhr.setRequestHeader('content-type','application/json')\n        xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n        xhr.onload = () => {\n            if (xhr.status == 204){\n                    for (let i of listIds){\n                        this.props.closeNavTab(null,lists[i].name)\n                        delete lists[i]\n                    }\n                    this.setState({\n                        buttonUI: state.buttonUI,\n                        checkBox: state.count,\n                        lists: lists,\n                    })\n                } \n            }\n        xhr.send(JSON.stringify(listIds))\n    }\n    selectListCheck = (buttonUI,count) => {\n        var palette = this.state.buttonUI.colour.palette\n        if (count>1){\n            var removeTag = true\n        }\n        if (count>=1){\n            var del = true\n            var colour = true\n        }\n        if (count == 0) {\n            palette = rename = del = false \n        }\n        var rename = removeTag ? false : this.state.buttonUI.rename\n        buttonUI = {\n            rename: rename, \n            colour: {colour : colour, palette : palette},\n            delete : del,\n        }\n        return{count:count,buttonUI:buttonUI}\n    }\n    selectList = (e,id) => {\n        e.stopPropagation()\n        var lists =     JSON.parse(JSON.stringify(this.state.lists))\n        var buttonUI =  JSON.parse(JSON.stringify(this.state.buttonUI))\n        if (lists[id].selected){\n            var count = this.state.checkBox-1\n        } else {\n            var count = this.state.checkBox+1\n        }\n        \n        lists[id].selected = !lists[id].selected\n        var state = this.selectListCheck(buttonUI,count)\n        this.setState({\n            lists : lists,\n            checkBox : state.count,\n            buttonUI : state.buttonUI\n        })\n    }\n    componentDidMount(){\n        if (!this.state.listsLoaded) {\n            let xhr = new XMLHttpRequest()\n            xhr.open('GET','/api/lists/')\n            xhr.setRequestHeader('content-type','application/json')\n            xhr.responseType = 'json'\n            xhr.onload = () => {\n                if (xhr.status == 200) {\n                    let lists = {}\n                    xhr.response.map(list => {\n                        lists[list.id]={\n                            name : list.listName,\n                            colour : list.colour,\n                            selected : false\n                        }\n                    }\n                )\n                    this.setState({\n                        lists : lists,\n                        tasksLoaded : true\n                    })\n                }\n            }\n            xhr.send()\n            this.props.passFunction(this.listColour)\n        }\n    }\n    closeOptions = e =>{\n        var buttonUI = JSON.parse(JSON.stringify(this.state.buttonUI))\n        buttonUI.rename = false\n        buttonUI.colour.palette = false\n        this.setState({\n            buttonUI : buttonUI,\n        })\n    }\n    inputStyle = {\n        width:'235px',\n        webkitLogicalWidth : '242px',\n        fontSize: '14px', \n    }\n    buttonsStyle = {\n        left : '305px', \n        position : 'absolute', \n        marginTop : '10px',\n        webkitMarginBefore : -4,\n        top : '130px'\n    }\n    render(){\n        var disabled = true\n        if (this.state.checkBox!=1) {\n                disabled = false\n        }\n        var styling = {margin : '50px', width:'90%' , height:'90%'}\n        var ref = 'none'\n        if (this.props.activeView != this.props.viewName) {\n            styling.display = 'none'\n        } else {\n            ref=this.props.reference\n        }\n        var buttons = []\n        for (let i in this.state.lists){\n            buttons.push(                \n                <ListButtons \n                    colour={this.state.lists[i].colour}\n                    selectList={this.selectList}\n                    selected={this.state.lists[i].selected}\n                    openNavTab={this.props.openNavTab} \n                    name={this.state.lists[i].name} \n                    id={i} \n                    />)\n        }\n        return (\n            <div style={styling}  ref = {ref}\n                onClick={this.closeOptions}\n                viewName={this.props.viewName}>\n                <input style={this.inputStyle} maxLength={25} onChange={this.inputHandle} value={this.state.input}/><button onClick={this.listCreate}>create</button>\n                {buttons}\n                <span style={this.buttonsStyle}>\n                    <ViewButton_s img={'/static/colour.png'} \n                        listView={true}\n                        checkBox={this.state.checkBox}\n                        func={this.colourPalette}\n                        update={this.listColour}\n                        disabled={this.state.buttonUI.colour.colour} \n                        colourUI={this.state.buttonUI.colour.palette}/>\n                    <ViewButton_s img={'/static/delete.png'} l='7px' \n                        func={this.deleteList} \n                        disabled={this.state.buttonUI.delete}/> {/* need better trash icon */}\n                    <ViewButton_s symbol={'✎'} disabled={disabled} \n                        func={this.listRename} \n                        renameUI={this.state.buttonUI.rename}/>    \n                </span>\n            </div>\n        )\n    }\n}\n/*\nupdate\ntaskColour\ntaskRename\ndeleteTask\ncolourPalette\ncloseOptions\nselectTask\n*/","import React, {Component} from 'react'\nimport Cookies from 'js-cookie'\n\nexport default class Registration extends Component {\n    constructor(props){\n        super(props)\n            this.loginTab = React.createRef()\n            this.state = {\n                view : 'login',\n                loginUser : '',\n                loginPass : '',\n                registerUser : '',\n                registerPass : '',\n                registerPass2 : '',\n                inputErrors : []\n            }\n    }\n    errorHandle(response){\n        var inputErrors=[]\n        for (let i in response){\n            inputErrors.push({[i]:response[i]})\n        }\n        this.setState({\n            inputErrors:inputErrors\n        })\n    }\n    frontEndRegisterCheck(){\n        var inputErrors=[]\n        var state = this.state\n        if (state.registerUser == ''){\n            inputErrors.push({username:'This field should not be empty'})\n        }\n        if (state.registerPass != state.registerPass2){\n            inputErrors.push({password:'Password fields do not match'})\n            inputErrors.push({password2:'Password fields do not match'})\n        } else {\n            if (state.registerPass == ''){\n                inputErrors.push({password:'This field should not be empty'})\n            }\n            if (state.registerPass2 == ''){\n                inputErrors.push({password2:'This field should not be empty'})\n            }\n        }\n        this.setState({\n            inputErrors : inputErrors\n        })\n        return !inputErrors.length\n    }\n    frontEndLoginCheck(){\n        var inputErrors=[]\n        var state = this.state\n        if (state.loginUser == ''){\n            inputErrors.push({username:'This field should not be empty'})\n        }\n        if (state.loginPass == ''){\n            inputErrors.push({password:'This field should not be empty'})\n        }\n        this.setState({\n            inputErrors : inputErrors\n        })\n        return !inputErrors.length\n    }\n    register = e => {\n        if(this.frontEndRegisterCheck()){\n            var xhr = new XMLHttpRequest()\n            xhr.open('POST','http://localhost:8000/register/')\n            xhr.setRequestHeader('content-type','application/json')\n            xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n            xhr.onload = () => {\n                var response = JSON.parse(xhr.response)\n                if(response == 'user created'){\n                    this.loginTab.current.click()\n                } else {\n                    this.errorHandle(response)\n                }\n            }\n            xhr.send(JSON.stringify({username: this.state.registerUser, password: this.state.registerPass}))\n        }\n    }\n    login = () => {\n        if(this.frontEndLoginCheck()){\n            this.props.login(\n                this.state.loginUser,\n                this.state.loginPass,\n                response=>this.errorHandle(response)\n                )\n        }\n    }\n\n    loginUserHandle = e => {\n        e.target.style.borderColor = 'none'\n        this.setState({\n            loginUser : e.target.value\n        })      \n    }\n    loginPassHandle = e => {\n        e.target.style.borderColor = 'none'\n        this.setState({\n            loginPass : e.target.value\n        })\n    }\n    registerUserHandle = e => {\n        e.target.style.borderColor = 'none'\n        this.setState({\n            registerUser : e.target.value\n        })\n    }\n    registerPassHandle = e => {\n        e.target.style.borderColor = 'none'\n        this.setState({\n            registerPass : e.target.value\n        })\n    }\n    registerPass2Handle = e => {\n        e.target.style.borderColor = 'none'\n        this.setState({\n            registerPass2 : e.target.value\n        })\n    }\n    enterPressed = (e,callback) => {\n        if (e.charCode == 13) {\n            callback()\n        }\n    }\n    tabClick = e => {\n        if (e.target.innerText != this.state.view){\n            this.setState({\n                view : e.target.innerText,\n                loginUser : '',\n                loginPass : '',\n                registerUser : '',\n                registerPass : '',\n                registerPass2 : '',\n                inputErrors : []\n            })\n        }\n    }\n    container = {\n        color: 'white',\n        display:'grid',\n        position : 'absolute',\n        alignItems : 'center',\n        justifyItems : 'center',\n        margin : '0 auto',\n        top: '50%',\n        left:'50%',\n        transform: 'translateY(-50%) translateX(-50%) scale(1.25)',\n        backgroundColor : '#676768',\n        border : '20px solid #676768',\n        borderBottomLeftRadius : '20px',\n        borderBottomRightRadius : '20px',\n        width : '300px',\n        height : '200px',\n    }\n    nav = {\n        fontSize : '80%',\n        display : 'grid',\n        gridTemplateColumns : '50% 50%',\n        textAlign : 'center',\n        position : 'absolute',\n        borderTopRightRadius : '20px',\n        borderTopLeftRadius : '20px',\n        top : -35,\n        width : '340px',\n        height : '25px',\n        backgroundColor :  '#676768',\n        overflow:'hidden'\n    }\n    errorMessage = {\n        padding:'3px',\n        whiteSpace: 'nowrap',\n        fontSize : '70%',\n        color:'white',\n        left:'270px',\n        position:'absolute',\n        boxShadow:'0px 0px 5px rgba(255,255,255,0.9)',\n        marginTop:'7px',\n        backgroundColor: '#777777',\n        borderRadius:'5px'\n    }\n    loginTabStyle = {\n        userSelect : 'none',\n        lineHeight : '25px',\n    }\n    registerTabStyle = {\n        userSelect : 'none',\n        lineHeight : '25px',\n    }   \n    render(){\n        var errorUsername, errorPassword, errorPassword2\n        var userInputStyle = {boxShadow : 'none'}\n        var passInputStyle = {boxShadow : 'none'}\n        var pass2InputStyle = {boxShadow : 'none'}\n        if (this.state.inputErrors.length){\n            for (let i of this.state.inputErrors){\n                if (i['username']){\n                    userInputStyle['boxShadow'] = '0px 0px 5px rgba(255,0,0,0.9)'\n                    errorUsername = <span style={this.errorMessage}>{i['username']}</span>\n                    \n                }\n                if (i['password']){\n                    passInputStyle['boxShadow'] = '0px 0px 5px rgba(255,0,0,0.9)'\n                    errorPassword = <span style={this.errorMessage}>{i['password']}</span>\n                }\n                if (i['password2']){\n                    pass2InputStyle['boxShadow'] = '0px 0px 5px rgba(255,0,0,0.9)'\n                    errorPassword2 = <span style={this.errorMessage}>{i['password2']}</span>\n                }\n            }\n        }\n        if (this.state.view == 'login') {\n            var loginStyle = this.loginTabStyle\n            var registerStyle = Object.assign({\n                backgroundColor : 'rgba(255,255,255,0.1)', \n                cursor : 'pointer'\n            },{...this.registerTabStyle})\n\n            var view = <>\n                Username<span><input key='logUser' style={userInputStyle} onChange={this.loginUserHandle} onKeyPress={e=>this.enterPressed(e,this.login)}/>{errorUsername}</span>\n                Password<span><input key='logPass' style={passInputStyle} onChange={this.loginPassHandle}  onKeyPress={e=>this.enterPressed(e,this.login)}type={'password'}/>{errorPassword}</span>\n                <button onClick={this.login}>login</button>\n            </>\n        } else {\n            var loginStyle = Object.assign({\n                backgroundColor : 'rgba(255,255,255,0.1)', \n                cursor : 'pointer'\n            },{...this.loginTabStyle})\n            var registerStyle = this.registerTabStyle\n\n            var view =  <>\n                Username<span><input key='regUser' style={userInputStyle} onChange={this.registerUserHandle} onKeyPress={e=>this.enterPressed(e,this.register)}/>{errorUsername}</span>\n                Password<span><input key='regPass' style={passInputStyle} onChange={this.registerPassHandle} onKeyPress={e=>this.enterPressed(e,this.register)} type={'password'}/>{errorPassword}</span>\n                Confirm Password<span><input key='regPass2' style={pass2InputStyle} onChange={this.registerPass2Handle} onKeyPress={e=>this.enterPressed(e,this.register)} type={'password'}/>{errorPassword2}</span>\n                <button onClick={this.register}>create</button>\n            </>\n        }\n        return( \n            <div style={this.container}>\n                <div style={this.nav}>\n                        <span onClick={this.tabClick} style={registerStyle}>register</span>\n                        <span onClick={this.tabClick} style={loginStyle} ref={this.loginTab}>login</span>\n                </div>\n                {view}\n            </div>\n        )\n    }\n}","import React, { Component } from 'react';\nimport NavBar from './components/NavBar'\nimport View from './components/View.js'\nimport ListView from './components/ListView.js'\nimport Registration from './components/Registration.js'\nimport Cookies from 'js-cookie'\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.activeViewContainer = React.createRef()\n    this.state = {\n      views : {},\n      colour : '#079d41',\n      activeView : 'Lists',\n      loggedIn : false,\n      user : {},\n      func : null,\n    }\n  }\n  deleteView = (oldname) => {\n    var views = JSON.parse(JSON.stringify(this.state.views))\n    if (this.state.views[oldname]){ //using var declared above causes crash here\n      var open=true\n    }\n    delete views[oldname]\n    this.setState({\n      views : views\n    })\n    return open\n  }\n  login = (username,password,callback) => {\n    var xhr = new XMLHttpRequest()\n    xhr.open('POST','/login/')\n    xhr.setRequestHeader('content-type','application/json')\n    xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n    xhr.onload = () => {\n      if (xhr.response == '\"Success\"') {\n        localStorage.setItem('loggedIn', true)\n        this.setState ({\n          loggedIn : true\n        })\n      } else {\n        callback(JSON.parse(xhr.response))\n      } \n      //setstate loggedin true, user {id and name?}\n    }\n    xhr.send(JSON.stringify({username: username, password: password}))\n  }\n  passFunction = func => {\n    this.setState({\n      func : func\n    })\n  }\n  failSafe = (ref) => {\n    if(ref.current){\n      if(this.state.activeView == 'Lists'){\n        ref.current.click()\n      } else {\n        var mouseUp = document.createEvent('MouseEvents')\n        mouseUp.initEvent('mouseup',true,true)\n        ref.current.dispatchEvent(mouseUp)\n      }\n    }\n  }\n\n  changeView = (name, colourCode) => {\n    this.setState({\n      activeView : name,\n      colour : colourCode\n    })\n  }\n\n  editViewColour = (nameArr, colourCode) => {\n    var views = JSON.parse(JSON.stringify(this.state.views))\n    var colour = this.state.colour\n    if (this.state.activeView == nameArr){\n      colour = colourCode\n    }\n    for (let i of nameArr){\n      if (views[i]){\n        views[i].colourCode = colourCode\n      }\n    }\n    this.setState({\n      views : views,\n      colour : colour\n    })\n  }\n\n  openNavTab = (name, colourCode, listId) => {\n    if (this.state.views[name]){\n      return\n    }\n    var views = JSON.parse(JSON.stringify(this.state.views))\n    views[name]={colourCode: colourCode, listId : listId}\n    this.setState({\n        views : views\n    })\n  }\n\n  closeNavTab = (e,list,tabname) => {\n    if(e){\n      e.stopPropagation()\n      var name = tabname\n    } else {\n      var name=list\n    }\n    var views = JSON.parse(JSON.stringify(this.state.views))\n    if (views[name]){\n      delete views[name]\n      this.setState ({\n        views: views\n      },() =>{\n        if(!this.state.views.length){\n          this.changeView('Lists','#079d41')\n        } else {      \n          let viewKey = Object.keys(this.state.views).slice(-1)[0]\n          this.changeView(viewKey,this.state.views[viewKey].colourCode)\n        } \n      })\n    }\n  }\n  update = (update,callback,path) => {\n    var xhr = new XMLHttpRequest()\n    xhr.open('PATCH','/api/'+path+'/')\n    xhr.setRequestHeader('content-type','application/json')\n    xhr.setRequestHeader('X-CSRFTOKEN',Cookies.get('csrftoken'))\n    xhr.onload = () => { \n        if (xhr.status == 206){\n            callback()\n            }\n        }\n    xhr.send(JSON.stringify(update))\n}\n\n  componentWillMount(){\n    document.documentElement.style.height = '100%'\n    document.body.style.height = '100%'\n    document.getElementById('root').style.height='90%'\n    if (!this.state.loggedIn && localStorage.getItem('loggedIn') == \"true\"){\n      this.setState({\n        loggedIn : true\n      })\n    }\n  }\n  render() {\n    document.body.style.backgroundColor = this.state.colour\n    if (this.state.loggedIn){\n      var logout = <a style={{color:'black'}}\n        onClick = {()=>localStorage.setItem('loggedIn', false)}\n        href='/logout'>logout</a>\n      var views=[]\n      for (let i in this.state.views){\n        views.push(\n        <View viewName={i} \n          key={i}\n          reference={this.activeViewContainer}\n          listId={this.state.views[i].listId}\n          update={this.update}\n          updateList={this.state.func} \n          activeView={this.state.activeView}/>\n        )\n      }\n      var show = [<NavBar views={this.state.views} \n        closeNavTab={this.closeNavTab} \n        changeView={this.changeView}\n        activeView={this.state.activeView}/>,\n    \n        <div style={{minHeight:'90%'}} id='views'\n          onClick={()=>this.failSafe(this.activeViewContainer)}>\n          <ListView viewName='Lists'\n            deleteView={this.deleteView}\n            reference={this.activeViewContainer}\n            update={this.update}\n            closeNavTab={this.closeNavTab}\n            openNavTab={this.openNavTab} \n            editViewColour={this.editViewColour} \n            passFunction={this.passFunction}\n            activeView={this.state.activeView}/>\n          {views}\n        </div>]\n    } else {\n      var show = <Registration login={this.login}/>\n    }\n    \n    return ( \n      <>\n        {show}\n        {logout}\n      </>\n    )\n  }\n}\n\nexport default App;\n    //https://htmlcolorcodes.com/\n    //https://scriptverse.academy/tutorials/reactjs-update-array-state.html\n    //https://stackoverflow.com/questions/37435334/correct-way-to-push-into-state-array\n    //https://www.iconarchive.com\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}